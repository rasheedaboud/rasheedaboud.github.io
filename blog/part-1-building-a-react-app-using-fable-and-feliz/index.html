<!DOCTYPE html>
    <html data-theme="light" lang="en">
      <head>
        <link rel="stylesheet" type="text/css" href="/assets/static/onRenderClient.l0r0DFKJ.css">
        <meta charset="UTF-8" />
        <meta name="google-site-verification" content="tasigl22802n6H-QTcOM1o96ZEKow4vzIU36DCZwO4g" />
        <meta http-equiv='cache-control' content='no-cache'> 
        <meta http-equiv='expires' content='0'> 
        <meta http-equiv='pragma' content='no-cache'>
        <link rel="icon" href="/assets/static/favicon.D7K9RfVp.ico" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="In this blog post, I shared my experience getting started with F# and the Feliz library for building web applications. I walked through setting up a Feliz project template, using the Feliz DSL for type-safe HTML, and adding JSX support. It&#039;s been a productive and enjoyable journey so far!" />
        <title>Part 1-Building a React App Using Fable and Feliz</title>
      </head>
      <body>
        <div id="react-root"><main class="min-h-screen"><header><nav class="bg-black"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-1"><div class="relative flex h-16 items-center justify-between"><div class="absolute inset-y-0 left-0 flex items-center sm:hidden"><button type="button" class="relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false"><span class="absolute -inset-0.5"></span><span class="sr-only">Open main menu</span><svg class="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div><div class="flex flex-1 items-center justify-end sm:items-stretch sm:justify-start"><div class="hidden sm:flex flex-shrink-0 items-center"><svg class="me-auto" width="50" height="50" viewBox="-20 -20 100 100"><g id="SvgjsG1201" transform="scale(1.0)" fill="#fff"><path xmlns="http://www.w3.org/2000/svg" d="M2.61,37.02a1.45852,1.45852,0,0,1-.11-.55V4A1.498,1.498,0,0,1,4,2.5H15.77a1.50728,1.50728,0,0,1,1.06.44L27.18,13.29a1.49682,1.49682,0,0,1,0,2.12L5.06,37.53A1.50653,1.50653,0,0,1,2.61,37.02Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.5,4V15.77a1.809,1.809,0,0,1-.11.57,1.62577,1.62577,0,0,1-.33.49L50.71,27.18a1.50713,1.50713,0,0,1-2.12,0L26.47,5.06a1.5155,1.5155,0,0,1,.4901-2.45,1.79313,1.79313,0,0,1,.57-.11L60,2.5A1.498,1.498,0,0,1,61.5,4Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.39,26.98a1.45841,1.45841,0,0,1,.11.55V60A1.498,1.498,0,0,1,60,61.5H48.23a1.50747,1.50747,0,0,1-1.06-.44L36.82,50.71a1.49678,1.49678,0,0,1,0-2.12L58.94,26.47A1.50658,1.50658,0,0,1,61.39,26.98Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M19.17,30.94,30.94,19.17a1.509,1.509,0,0,1,2.12,0L44.83,30.94a1.50907,1.50907,0,0,1,0,2.12L33.06,44.83a1.51876,1.51876,0,0,1-2.12,0L19.17,33.06A1.50906,1.50906,0,0,1,19.17,30.94Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M37.86,59.45a1.50661,1.50661,0,0,1-1.39,2.05L4,61.5A1.498,1.498,0,0,1,2.5,60V48.23a1.81029,1.81029,0,0,1,.11-.57,1.62669,1.62669,0,0,1,.33-.49L13.29,36.82a1.54761,1.54761,0,0,1,2.12,0L37.53,58.94A1.28931,1.28931,0,0,1,37.86,59.45Z"></path></g></svg></div><div class="sm:ml-6 sm:block"><div class="flex space-x-4"><a href="/" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-1 py-3 text-lg font-black" aria-current="page">Rasheed Aboud</a></div></div></div><div class="hidden  sm:flex absolute inset-y-0 right-0  items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"><a href="/blogs" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-black">Blog</a><a href="/about" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-black">About</a><a href="/contact" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-black">Contact</a></div></div></div></nav></header><div class="container mx-auto px-4 py-1"><div><div class="min-h-svh sm:px-10 md:px-24 lg:px-48"><article><div style="min-width:100% !important" class="prose"><h1 class="text-2xl font-black text-pretty uppercase my-5 text-center">Part 1-Building a React App Using Fable and Feliz</h1><div class="grid-rows-3 grid-flow-col"><div class="flex justify-center items-center"> <figure class="max-w-xs px-3 py-2 min-w-xs "><img style="max-width:300px;max-height:300px" src="https://fable.io/static/img/logo_ukraine.png" alt="Movie"/></figure></div><div class="grid grid-rows-4 grid-flow-col gap-0 align-middle items-center sm:px-10"><div class="avatar placeholder row-span-4 mx-auto"><div class="bg-neutral text-neutral-content rounded-full w-24"><span class="text-3xl">RA</span></div></div><div class="font-bold uppercase mx-5 sm:mx-0">Rasheed Aboud</div><div class="uppercase mx-5 lg:mx-0">5 min<!-- --> read</div><div class="uppercase mx-5 lg:mx-0">2024-1-1</div><div class="hidden md:block mx-5 lg:mx-0"><button class="badge badge-primary badge-lg mx-1">F#</button><button class="badge badge-primary badge-lg mx-1">react</button><button class="badge badge-primary badge-lg mx-1">fable</button><button class="badge badge-primary badge-lg mx-1">feliz</button><button class="badge badge-primary badge-lg mx-1">web development</button></div></div></div><h2>TL;DR:</h2>
<p>This post introduces how to set up and use F# with the Feliz library for web development, specifically for creating React applications. It covers installing the Feliz project template, updating packages to support JSX components, and demonstrates building type-safe HTML and client-side routing in F#. The author also shows how to integrate JSX components into an F# app, providing a way to use third-party JavaScript libraries more easily within an F# project. The post aims to highlight the productivity and type safety benefits of using F# in web development.</p>
<h2>Background</h2>
<p>Hello everyone! As a seasoned F# user, I&#x27;ve decided to pay it forward to the incredible community that has supported me throughout my programming journey. I was recently working helping a colleague learn F# and web development, and he suggested that it my be useful to to take our sessions and throw them into the ether and maybe help other get up and running.</p>
<p>For this purpose Ive made a series of repositories that walk you through getting started, we then move on to explore topics that empower you to build rich and robust user interfaces.</p>
<p>The end goal being to show you just how straightforward it can be to use F# in the browser allowing you to leverage its amazing capabilities to boost your productivity when building apps for the web.</p>
<p>In this initial installment of the series, we&#x27;ll dive into setting up Feliz - my library of choiceâ€”for building apps with Fable. Plus, I&#x27;ll give you a sneak peek at another way to craft React components using Fable&#x27;s new JSX component feature.</p>
<p>Really quick lets introduce the technology we will be using:</p>
<h3>F#</h3>
<p>F# is a mature, open-source, cross-platform functional-first programming language developed by Microsoft as part of the .NET language family. It is designed to be succinct, expressive, and efficient, enabling developers to write concise and correct code quickly. Although it emphasizes functional programming paradigms, it is also a fully-fledged object-oriented language and supports imperative programming styles.</p>
<p>Key features of F# include:</p>
<ul>
<li><strong>Type Inference</strong>: F# infers types during compilation which means you often don&#x27;t need to explicitly declare them.</li>
<li><strong>Immutability</strong>: By default, values in F# are immutable, which leads to safer and more predictable code.</li>
<li><strong>Pattern Matching</strong>: A powerful feature that allows complex control flow based on the shape of data.</li>
<li><strong>Conciseness</strong>: The syntax is terse, reducing boilerplate and making code easier to read and write.</li>
<li><strong>First-Class Functions</strong>: Functions are treated as first-class citizens allowing for advanced functional programming techniques.</li>
<li><strong>Asynchronous Programming</strong>: Built-in support for async workflows makes concurrent operations straightforward.</li>
<li><strong>Units of Measure</strong>: Type-safe arithmetic on quantities with units.</li>
</ul>
<h3>Feliz</h3>
<p>Feliz is an innovative DSL (Domain Specific Language) for building React user interfaces using F#. It provides a set of APIs that are designed to make writing React components in F# more enjoyable and idiomatic. Feliz aims to leverage the powerful type system of F# to provide compile-time guarantees about your UI code.</p>
<p>Features of Feliz include:</p>
<ul>
<li><strong>Type-Safe Builders</strong>: Create HTML elements and attributes with type safety ensuring you don&#x27;t make common mistakes like misspelling an attribute name or passing an incorrect value type.</li>
<li><strong>Hooks API</strong>: Use React hooks such as <code node="[object Object]">useState</code> or <code node="[object Object]">useEffect</code> directly within your components in a natural way.</li>
<li><strong>Elmish Integration</strong>: For those who prefer the Elm architecture, Feliz can be used alongside Elmish for state management within Fable applications.</li>
</ul>
<h3>Fable</h3>
<p>Fable is an F# to JavaScript compiler powered by Babel, designed to produce readable and standard JavaScript code from your F#. It allows you to write your application logic in F#, which then gets transpiled into JavaScript that can run in any modern browser or Node.js environment.</p>
<p>Key aspects of Fable include:</p>
<ul>
<li><strong>Interop with JavaScript</strong>: Call JavaScript functions and use existing libraries directly from your F# code.</li>
<li><strong>Source Maps Support</strong>: Debug your application directly in F# thanks to source maps that map the compiled JavaScript back to your original code.</li>
<li><strong>Modern JS Features</strong>: Take advantage of modern JavaScript features like modules, async/await, destructuring assignments, etc., while writing in a strongly-typed functional language.</li>
<li><strong>Community Ecosystem</strong>: Benefit from a rich set of community-driven tools and libraries specifically tailored for use with Fable.</li>
</ul>
<p>Together these three technologies allow developers familiar with .NET and interested in web development to build applications using their existing knowledge while taking advantage of the robustness offered by functional programming principles. With this stack, you can create complex client-side applications that run smoothly on the web.</p>
<h2>Prerequisites</h2>
<ul>
<li>.Net 8 | .Net 7</li>
<li>Node ^18</li>
<li>a package manager (npm,pnpm,yarn etc.),</li>
<li><a href="https://code.visualstudio.com/">Visual Studio Code</a> with <a href="http://ionide.io/">Ionide</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=alfonsogarciacaro.vscode-template-fsharp-highlight">Highlight templates in F#</a></li>
</ul>
<h2>Getting Started</h2>
<p>First things first we will install the Feliz project template. A guide can be found on the <a href="https://zaid-ajaj.github.io/Feliz/#/Feliz/ProjectTemplate">Feliz Site</a>.</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-console" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>dotnet new -i Feliz.Template</span></code></div></pre>
<p>If you already have Feliz template installed now is good time to update it</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-console" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>dotnet new -u Feliz.Template
</span>dotnet new -i Feliz.Template</code></div></pre>
<p>next we can create and run the app</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-console" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>dotnet new feliz -n AwesomeApp
</span>cd AwesomeApp
<!-- -->pnpm i
<!-- -->pnpm run start</code></div></pre>
<p>That it! THats how easy it is to spin up a new react app with F# and Feliz. If you open a browser and navigate to <code node="[object Object]">http://localhost:5173/</code> you should be greeted with your shiny new awesome Feliz App.</p>
<p>Let&#x27;s quickly step through the code to get familiar with the landscape.</p>
<h3>Main</h3>
<p>In the <code node="[object Object]">Main.fs</code> we are mounting our react app. This should look very similar to anyone familiar with react. Using Fable we get a reference to &#x27;feliz-app&#x27; element from <code node="[object Object]">index.html</code> and we call <code node="[object Object]">root.render (Components.Counter())</code>  to mount our app.</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-fsharp" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#569CD6">module</span><span> Main
</span>
<span></span><span class="token" style="color:#569CD6">open</span><span> Feliz
</span><span></span><span class="token" style="color:#569CD6">open</span><span> App
</span><span></span><span class="token" style="color:#569CD6">open</span><span> Browser</span><span class="token" style="color:#d4d4d4">.</span><span>Dom
</span>
<span></span><span class="token" style="color:#569CD6">let</span><span> root </span><span class="token" style="color:#d4d4d4">=</span><span> ReactDOM</span><span class="token" style="color:#d4d4d4">.</span><span>createRoot </span><span class="token" style="color:#d4d4d4">(</span><span>document</span><span class="token" style="color:#d4d4d4">.</span><span>getElementById </span><span class="token" style="color:#ce9178">&quot;feliz-app&quot;</span><span class="token" style="color:#d4d4d4">)</span><span>
</span><span>root</span><span class="token" style="color:#d4d4d4">.</span><span>render </span><span class="token" style="color:#d4d4d4">(</span><span>Components</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">Counter</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span></code></div></pre>
<h3>Type Safe Html</h3>
<p>In the <code node="[object Object]">Components.fs</code> we have some example of how to build UI using Feliz. You don&#x27;t have to use a class with static members, you can define your react components using functions and decorating them <code node="[object Object]">[&lt;ReactComponent&gt;]</code>. However using an F# class to group components with similar features or use cases can be useful to group similar components.</p>
<p>You should notice right away there is no Html in our <strong>Counter</strong> component! We are instead using the Feliz DSL to write type safe F# code which is transpiled to Html.</p>
<p>For example the <code node="[object Object]">Html.div []</code> is an F# function which takes a list (denoted by the <code node="[object Object]">[]</code>) of props or other react components and renders them out inside a <code node="[object Object]">div</code>.</p>
<p>Were also using some local state to store the value of a count:</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-fsharp" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#569CD6">let</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>count</span><span class="token" style="color:#d4d4d4">,</span><span> setCount</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> React</span><span class="token" style="color:#d4d4d4">.</span><span>useState </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">)</span></code></div></pre>
<p>and button to update the state:</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-fsharp" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>Html</span><span class="token" style="color:#d4d4d4">.</span><span>button </span><span class="token" style="color:#d4d4d4">[</span><span> 
</span><span>  prop</span><span class="token" style="color:#d4d4d4">.</span><span>onClick </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569CD6">fun</span><span> _ </span><span class="token" style="color:#d4d4d4">-&gt;</span><span> setCount </span><span class="token" style="color:#d4d4d4">(</span><span>count </span><span class="token" style="color:#d4d4d4">+</span><span> </span><span class="token" style="color:#b5cea8">1</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span> 
</span><span>  prop</span><span class="token" style="color:#d4d4d4">.</span><span>text </span><span class="token" style="color:#ce9178">&quot;Increment&quot;</span><span> </span><span class="token" style="color:#d4d4d4">]</span></code></div></pre>
<p>Thanks to the F# compiler we get immediate feedback if we wrote our Html wrong or supplied and incorrect attribute or property. This compile time safety is a <strong>HUGE</strong> productivity boost for me personally.</p>
<p>I cant tell you how many times I fat finger some Html and don&#x27;t realize it until someone reported it as a bug.</p>
<h3>Routing</h3>
<p>The <strong>Router</strong> component gives you an example of how we can perform client side routing in Feliz. There are other options available however this is a very elegant solution.</p>
<p>My favorite part is that since this is F# we get  exhaustive pattern matching on our routes, reducing or eliminating chances that user hit a route we did not anticipate.</p>
<p>We also get all the F# type safety goodness in our routes and component functions!</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-fsharp" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token annotation" style="color:#d4d4d4">[&lt;</span><span class="token annotation" style="color:#4ec9b0">ReactComponent</span><span class="token annotation" style="color:#d4d4d4">&gt;]</span><span>
</span><span></span><span class="token" style="color:#569CD6">static</span><span> </span><span class="token" style="color:#569CD6">member</span><span> </span><span class="token" style="color:#dcdcaa">Router</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">let</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>currentUrl</span><span class="token" style="color:#d4d4d4">,</span><span> updateUrl</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> React</span><span class="token" style="color:#d4d4d4">.</span><span>useState </span><span class="token" style="color:#d4d4d4">(</span><span>Router</span><span class="token" style="color:#d4d4d4">.</span><span>currentUrl </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span>
</span>
<span>  React</span><span class="token" style="color:#d4d4d4">.</span><span>router </span><span class="token" style="color:#d4d4d4">[</span><span> 
</span><span>	router</span><span class="token" style="color:#d4d4d4">.</span><span>onUrlChanged updateUrl 
</span><span>	router</span><span class="token" style="color:#d4d4d4">.</span><span>children </span><span class="token" style="color:#d4d4d4">[</span><span> 
</span><span>		</span><span class="token" style="color:#569CD6">match</span><span> currentUrl </span><span class="token" style="color:#569CD6">with</span><span>
</span><span>		</span><span class="token" style="color:#d4d4d4">|</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4">-&gt;</span><span> Html</span><span class="token" style="color:#d4d4d4">.</span><span>h1 </span><span class="token" style="color:#ce9178">&quot;Index&quot;</span><span>
</span><span>		</span><span class="token" style="color:#d4d4d4">|</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span> </span><span class="token" style="color:#ce9178">&quot;hello&quot;</span><span> </span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4">-&gt;</span><span> Components</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">HelloWorld</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span>
</span><span>		</span><span class="token" style="color:#d4d4d4">|</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span> </span><span class="token" style="color:#ce9178">&quot;counter&quot;</span><span> </span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4">-&gt;</span><span> Components</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">Counter</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span>
</span><span>		</span><span class="token" style="color:#d4d4d4">|</span><span> otherwise </span><span class="token" style="color:#d4d4d4">-&gt;</span><span> Html</span><span class="token" style="color:#d4d4d4">.</span><span>h1 </span><span class="token" style="color:#ce9178">&quot;Not found&quot;</span><span> </span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4">]</span></code></div></pre>
<p>Basically we take the current url and parse it to return an F# list that we can then pattern match over. In this case we are storing the current url in local state and passing the function <code node="[object Object]">updateUrl</code> to the router component.</p>
<h3>Update Packages</h3>
<p>Now that we have the basic app up and running lets add support for JSX components. The addition of using F# templated string to render JSX components was added in <code node="[object Object]">Fable 4.0.0-theta-011</code> ish. Prior to this every third party component you wanted to use had to be wrapped in F# types first. Which definitely slowed down your productivity.</p>
<p>First things first let change the project target to .Net 8. Future you may not need to complete these step once Feliz library get updated to the latest bits.</p>
<p>Next we will bump out .Net version target from .Net 7 to .Net 8.</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-diff" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token unchanged prefix"> </span><span class="token unchanged line">./AwesomeApp.fsproj
</span><span class="token unchanged line"></span><span class="token deleted-arrow prefix" style="color:#ce9178">&lt;</span><span class="token deleted-arrow line" style="color:#ce9178">PropertyGroup&gt;
</span><span class="token deleted-arrow line" style="color:#ce9178"></span><span class="token inserted-sign prefix" style="color:#b5cea8">+</span><span class="token inserted-sign line" style="color:#b5cea8"> &lt;TargetFramework&gt;net8.0&lt;/TargetFramework&gt;
</span><span class="token inserted-sign line" style="color:#b5cea8"></span><span class="token deleted-sign prefix" style="color:#ce9178">-</span><span class="token deleted-sign line" style="color:#ce9178"> &lt;TargetFramework&gt;net7.0&lt;/TargetFramework&gt;
</span><span class="token deleted-sign line" style="color:#ce9178"></span><span class="token deleted-arrow prefix" style="color:#ce9178">&lt;</span><span class="token deleted-arrow line" style="color:#ce9178">/PropertyGroup&gt;</span></code></div></pre>
<p>Next lets update the <strong>fable</strong> and <strong>femto</strong> dotnet tools.</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-console" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>dotnet tool update fable
</span>dotnet tool update femto</code></div></pre>
<p>We will also need to update all nuget packages. A very powerful tool for package management a tool called <a href="https://fake.build/">Fake</a> which I highly recommend you look. For now lets just use the cli.</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-console" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>cd ./src
</span>dotnet add package Feliz
<!-- -->dotnet add package Feliz.Router
<!-- -->dotnet add package Fable.Core</code></div></pre>
<p>Next lets add reference to the Feliz compiler plugin. I&#x27;m going to use femto to do this. If you&#x27;re not familiar with femto tool you can check it out <a href="https://github.com/Zaid-Ajaj/Femto">here</a>. This too is amazing, it will install any required nuget or npm packages automagcally.</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-console" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>femto
</span>femto inspall FSharp.Core
<!-- -->femto install Feliz.CompilerPlugins</code></div></pre>
<p>We will have to modify our <strong>package.json</strong> to instruct fable to output .jsx files, also we will need to update our <strong>index.html</strong> to use the Main.jsx instead of Man.fs.js.</p>
<p>In our <strong>package.json</strong></p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-diff" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>{
</span><span></span><span class="token unchanged prefix"> </span><span class="token unchanged line">&quot;private&quot;: true,
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line">&quot;scripts&quot;: {
</span><span class="token unchanged line"></span><span class="token deleted-sign prefix" style="color:#ce9178">-</span><span class="token deleted-sign line" style="color:#ce9178">   &quot;start&quot;: &quot;dotnet tool restore &amp;&amp; dotnet fable watch src --runFast vite&quot;,
</span><span class="token deleted-sign line" style="color:#ce9178"></span><span class="token inserted-sign prefix" style="color:#b5cea8">+</span><span class="token inserted-sign line" style="color:#b5cea8">   &quot;start&quot;: &quot;dotnet tool restore &amp;&amp; dotnet fable watch src -e .jsx --runFast vite&quot;,
</span><span class="token inserted-sign line" style="color:#b5cea8"></span><span class="token unchanged prefix"> </span><span class="token unchanged line">&quot;build&quot;: &quot;dotnet tool restore &amp;&amp; dotnet fable src --run vite build&quot;,
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line">&quot;clean&quot;: &quot;dotnet fable clean src --yes&quot;
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line">},
</span><span class="token unchanged line"></span><span>
</span>...</code></div></pre>
<p>And in our <strong>index.html</strong>;</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-diff" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token deleted-arrow prefix" style="color:#ce9178">&lt;</span><span class="token deleted-arrow line" style="color:#ce9178">!doctype  html&gt;
</span><span class="token deleted-arrow line" style="color:#ce9178"></span><span>
</span><span></span><span class="token deleted-arrow prefix" style="color:#ce9178">&lt;</span><span class="token deleted-arrow line" style="color:#ce9178">html&gt;
</span><span class="token deleted-arrow line" style="color:#ce9178"></span><span class="token unchanged prefix"> </span><span class="token unchanged line">
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line">&lt;head&gt;
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line"> &lt;title&gt;Feliz App&lt;/title&gt;
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line"> &lt;meta  http-equiv=&#x27;Content-Type&#x27;  content=&#x27;text/html; charset=utf-8&#x27;&gt;
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line"> &lt;meta  name=&quot;viewport&quot;  content=&quot;width=device-width, initial-scale=1&quot;&gt;
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line"> &lt;link  rel=&quot;shortcut icon&quot;  type=&quot;image/png&quot;  href=&quot;./img/favicon-32x32.png&quot;  sizes=&quot;32x32&quot;  /&gt;
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line"> &lt;link  rel=&quot;shortcut icon&quot;  type=&quot;image/png&quot;  href=&quot;./img/favicon-16x16.png&quot;  sizes=&quot;16x16&quot;  /&gt;
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line">&lt;/head&gt;
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line">&lt;body&gt;
</span><span class="token unchanged line"></span><span class="token unchanged prefix"> </span><span class="token unchanged line"> &lt;div  id=&quot;feliz-app&quot;&gt;&lt;/div&gt;
</span><span class="token unchanged line"></span><span class="token deleted-sign prefix" style="color:#ce9178">-</span><span class="token deleted-sign line" style="color:#ce9178">     &lt;script  type=&quot;module&quot;  src=&quot;./Main.fs.js&quot;&gt;&lt;/script&gt;
</span><span class="token deleted-sign line" style="color:#ce9178"></span><span class="token inserted-sign prefix" style="color:#b5cea8">+</span><span class="token inserted-sign line" style="color:#b5cea8">     &lt;script  type=&quot;module&quot;  src=&quot;./Main.jsx&quot;&gt;&lt;/script&gt;
</span><span class="token inserted-sign line" style="color:#b5cea8"></span><span class="token unchanged prefix"> </span><span class="token unchanged line">&lt;/body&gt;
</span><span class="token unchanged line"></span><span>
</span><span></span><span class="token deleted-arrow prefix" style="color:#ce9178">&lt;</span><span class="token deleted-arrow line" style="color:#ce9178">/html&gt;</span></code></div></pre>
<p>At this point you&#x27;ll probably want to update your .gitignore to ignore all the generated .jsx files. I also like to add the <strong>fable_modules</strong> to .gitignore.</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-git" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>src/*.jsx
</span>fable_modules</code></div></pre>
<h2>JSX Components</h2>
<p>Now that we have all that nonsense out of the way we can add .jsx components and use them from Feliz.</p>
<p>Here is a very contrived example of how to do that.</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-fsharp" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#569CD6">open</span><span>  Fable</span><span class="token" style="color:#d4d4d4">.</span><span>Core
</span><span></span><span class="token" style="color:#569CD6">open</span><span>  Fable</span><span class="token" style="color:#d4d4d4">.</span><span>React
</span>
<span></span><span class="token annotation" style="color:#d4d4d4">[&lt;</span><span class="token annotation" style="color:#4ec9b0">AutoOpen</span><span class="token annotation" style="color:#d4d4d4">&gt;]</span><span>
</span><span></span><span class="token" style="color:#569CD6">module</span><span>  JsxHelpers  </span><span class="token" style="color:#d4d4d4">=</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">let</span><span> </span><span class="token" style="color:#569CD6">inline</span><span>  toJsx  </span><span class="token" style="color:#d4d4d4">(</span><span>el</span><span class="token" style="color:#d4d4d4">:</span><span>  </span><span class="token" style="color:#4ec9b0">ReactElement</span><span class="token" style="color:#d4d4d4">)</span><span>  </span><span class="token" style="color:#d4d4d4">:</span><span>  JSX</span><span class="token" style="color:#d4d4d4">.</span><span>Element  </span><span class="token" style="color:#d4d4d4">=</span><span>  unbox  el
</span><span>  </span><span class="token" style="color:#569CD6">let</span><span> </span><span class="token" style="color:#569CD6">inline</span><span>  toReact  </span><span class="token" style="color:#d4d4d4">(</span><span>el</span><span class="token" style="color:#d4d4d4">:</span><span>  </span><span class="token" style="color:#4ec9b0">JSX</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#4ec9b0">Element</span><span class="token" style="color:#d4d4d4">)</span><span>  </span><span class="token" style="color:#d4d4d4">:</span><span>  ReactElement  </span><span class="token" style="color:#d4d4d4">=</span><span>  unbox  el
</span> 
<span></span><span class="token" style="color:#569CD6">type</span><span>  </span><span class="token" style="color:#4ec9b0">Components</span><span>  </span><span class="token" style="color:#d4d4d4">=</span><span>
</span><span>  </span><span class="token annotation" style="color:#d4d4d4">[&lt;</span><span class="token annotation" style="color:#4ec9b0">ReactComponent</span><span class="token annotation" style="color:#d4d4d4">&gt;]</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">static</span><span> </span><span class="token" style="color:#569CD6">member</span><span>  </span><span class="token" style="color:#dcdcaa">JsxCount</span><span class="token" style="color:#d4d4d4">(</span><span>props</span><span class="token" style="color:#d4d4d4">:</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">|</span><span>count</span><span class="token" style="color:#d4d4d4">:</span><span class="token" style="color:#4ec9b0">int</span><span class="token" style="color:#d4d4d4">|</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span>  </span><span class="token" style="color:#d4d4d4">=</span><span>
</span><span>    </span><span class="token" style="color:#569CD6">let</span><span>  </span><span class="token" style="color:#d4d4d4">(</span><span>count</span><span class="token" style="color:#d4d4d4">,</span><span>  setCount</span><span class="token" style="color:#d4d4d4">)</span><span>  </span><span class="token" style="color:#d4d4d4">=</span><span>  React</span><span class="token" style="color:#d4d4d4">.</span><span>useState  </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">)</span><span>
</span>
<span>    JSX</span><span class="token" style="color:#d4d4d4">.</span><span>jsx
</span><span>      $</span><span class="token" style="color:#ce9178">&quot;&quot;&quot;
</span><span class="token" style="color:#ce9178">        &lt;div  style={{{{marginTop:&#x27;10px&#x27;}}}}  &gt;From JSX: {props.count}&lt;/div&gt;
</span><span class="token" style="color:#ce9178">      &quot;&quot;&quot;</span><span> 
</span><span>	</span><span class="token" style="color:#d4d4d4">|&gt;</span><span>  toReact</span></code></div></pre>
<p>We add a couple helper functions to convert back and forth from <strong>ReactElement</strong>  and  <strong>JSX.Element</strong> types.</p>
<p>Then we can use this new JsxCounter inside the existing Counter component:</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-fsharp" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token annotation" style="color:#d4d4d4">[&lt;</span><span class="token annotation" style="color:#4ec9b0">ReactComponent</span><span class="token annotation" style="color:#d4d4d4">&gt;]</span><span>
</span><span></span><span class="token" style="color:#569CD6">static</span><span> </span><span class="token" style="color:#569CD6">member</span><span>  </span><span class="token" style="color:#dcdcaa">Counter</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span>  </span><span class="token" style="color:#d4d4d4">=</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">let</span><span>  </span><span class="token" style="color:#d4d4d4">(</span><span>count</span><span class="token" style="color:#d4d4d4">,</span><span>  setCount</span><span class="token" style="color:#d4d4d4">)</span><span>  </span><span class="token" style="color:#d4d4d4">=</span><span>  React</span><span class="token" style="color:#d4d4d4">.</span><span>useState  </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">)</span><span>
</span><span>  Html</span><span class="token" style="color:#d4d4d4">.</span><span>div </span><span class="token" style="color:#d4d4d4">[</span><span>   
</span><span>	Html</span><span class="token" style="color:#d4d4d4">.</span><span>h1  count
</span><span>    Html</span><span class="token" style="color:#d4d4d4">.</span><span>button  </span><span class="token" style="color:#d4d4d4">[</span><span>  
</span><span>	  prop</span><span class="token" style="color:#d4d4d4">.</span><span>onClick  </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569CD6">fun</span><span> _ </span><span class="token" style="color:#d4d4d4">-&gt;</span><span>  setCount  </span><span class="token" style="color:#d4d4d4">(</span><span>count  </span><span class="token" style="color:#d4d4d4">+</span><span>  </span><span class="token" style="color:#b5cea8">1</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>  
</span><span>	  prop</span><span class="token" style="color:#d4d4d4">.</span><span>text  </span><span class="token" style="color:#ce9178">&quot;Increment&quot;</span><span>  </span><span class="token" style="color:#d4d4d4">]</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">//Add our new JSX component.</span><span>
</span><span>    Components</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">JsxCounter</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">|</span><span>  count  </span><span class="token" style="color:#d4d4d4">=</span><span>  count  </span><span class="token" style="color:#d4d4d4">|</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span>  </span><span class="token" style="color:#d4d4d4">]</span></code></div></pre>
<p>Lets run the app again and navigate to /counter.</p>
<pre class="mb-3 relative box-shadow shadow-2xl"><div class="absolute -top-1  right-7 h-10 w-10 m-5"><button class="btn btn-xs btn-active"><span class=""><i class="fa-solid fa-copy"> <!-- -->Copy</i></span></button></div><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-console" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>cd ..
</span>pnpm start</code></div></pre>
<p>You should get an output that matches the following. Not very pretty but it does illustrate how easy it is to use the JSX feature.</p>
<p><img src="https://rasheedaboudblogstorage.blob.core.windows.net/blogs/jsxcounter.gif?sp=r&amp;st=2024-01-05T04:17:47Z&amp;se=2050-01-05T12:17:47Z&amp;spr=https&amp;sv=2022-11-02&amp;sr=b&amp;sig=%2FoSyOlsIIgI0Vx04av643TXF3pqzivicMPbx1cjtn%2Bk%3D" alt="jsx counter in F#!!!"/></p>
<p>Thanks to the VS code extension we added earlier we also get code completions right inside our templated string. You can also pass props from F# to the JSX component and add styles. However as you probably noticed escaping your <code node="[object Object]">{}</code> can get a little crazy, however I feel this is a small price to pay.</p>
<h2>Wrapping Up</h2>
<p>Hopefully this showed you how simple it is to get started with <a href="https://fable.io/">Fable</a> and <a href="https://zaid-ajaj.github.io/Feliz/#/">Feliz</a>. These tools are my goto anytime I&#x27;m making a new react app. I find using F# in the browser to incredibly productive, also the type safety that the F# language provides  me with an added safety net that even Typescript cant compete with.</p>
<p>In this blog post, we covered how to get started with F# and the Feliz library for building web applications. We walked through setting up a Feliz project template, mounting a React app, and using the Feliz DSL to create type-safe HTML. We also explored client-side routing and how to add JSX support to Feliz.</p>
<p>Using F# and Feliz provides many benefits, including type safety, increased productivity, and the ability to leverage the power of React in a functional programming language. With Feliz, we can write type-safe HTML using the Feliz DSL and take advantage of JSX components.</p>
<p>On a side note you may be asking who do we want to jump through all those hoops just to add another way to represent Html in our App (JSX)?  Especially in a manner where we loose all our type safety? Well Alfonso Garcia has an excellent series of blog post about just that!  You can check them out over <a href="https://fable.io/blog/2022/2022-10-12-react-jsx.html">here</a>.</p>
<p>The answer is we didn&#x27;t  <strong>have</strong> too. However if you want to use any third party JavaScript packages, you will need to wrap them in F# types. Similar to adding Typescript annotations to a JavaScript library. Personally I&#x27;ve found the JSX method to be the most productive way to quickly wrap a component and us it from F#.</p>
<p>In part 2 we will look at using environment variables on the client and slowly work our way up to a decent sized production app.
Overall, F# and Feliz are a powerful combination for building web applications, and I hope this blog post has given you a good starting point for exploring these tools further. Happy coding!</p><div class="my-5 py-5"><a class="btn btn-neutral" href="/blogs">Go Back</a></div></div></article></div></div></div><footer class="footer  p-10 bg-black text-neutral-content"><aside><svg class="me-auto" width="50" height="50" viewBox="-20 -20 100 100"><g id="SvgjsG1201" transform="scale(1.0)" fill="#fff"><path xmlns="http://www.w3.org/2000/svg" d="M2.61,37.02a1.45852,1.45852,0,0,1-.11-.55V4A1.498,1.498,0,0,1,4,2.5H15.77a1.50728,1.50728,0,0,1,1.06.44L27.18,13.29a1.49682,1.49682,0,0,1,0,2.12L5.06,37.53A1.50653,1.50653,0,0,1,2.61,37.02Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.5,4V15.77a1.809,1.809,0,0,1-.11.57,1.62577,1.62577,0,0,1-.33.49L50.71,27.18a1.50713,1.50713,0,0,1-2.12,0L26.47,5.06a1.5155,1.5155,0,0,1,.4901-2.45,1.79313,1.79313,0,0,1,.57-.11L60,2.5A1.498,1.498,0,0,1,61.5,4Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.39,26.98a1.45841,1.45841,0,0,1,.11.55V60A1.498,1.498,0,0,1,60,61.5H48.23a1.50747,1.50747,0,0,1-1.06-.44L36.82,50.71a1.49678,1.49678,0,0,1,0-2.12L58.94,26.47A1.50658,1.50658,0,0,1,61.39,26.98Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M19.17,30.94,30.94,19.17a1.509,1.509,0,0,1,2.12,0L44.83,30.94a1.50907,1.50907,0,0,1,0,2.12L33.06,44.83a1.51876,1.51876,0,0,1-2.12,0L19.17,33.06A1.50906,1.50906,0,0,1,19.17,30.94Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M37.86,59.45a1.50661,1.50661,0,0,1-1.39,2.05L4,61.5A1.498,1.498,0,0,1,2.5,60V48.23a1.81029,1.81029,0,0,1,.11-.57,1.62669,1.62669,0,0,1,.33-.49L13.29,36.82a1.54761,1.54761,0,0,1,2.12,0L37.53,58.94A1.28931,1.28931,0,0,1,37.86,59.45Z"></path></g></svg><p>Rasheed Aboud.<br/>Providing reliable tech solutions since 2017.</p></aside><nav><header class="footer-title">Social</header><div class="grid grid-flow-col gap-4"><a href="https://twitter.com/@rasheed_aboud"><img alt="twitter" style="max-width:20px;max-height:25px" src="data:image/webp;base64,UklGRowEAABXRUJQVlA4TIAEAAAvMYAMEC8GoY0kSZLnwB/YA/BOZSYNCG0kSZI8B/7AHoB3KjMhtJEkSfIc+AN7AN6pzIQc23bb5gJCUnBaetyG+9+nBtyIB/gxABIDDRUNEwMdFR0NHQ0DEzdctxUoAgeCA4HhwKAwBAIKh8GgUBgMAYcj4BAIBAaHwWEQCAyKDYFBcBAwbCgUhg2FQz8+PuJ5ntvzPLfned6e55GPj4833J/nuaE+z3NDR8MV72joaNs6nrb1bf+wbQu1bWvL3dGWbbRlW7YtWG13W5KQhLYkYRttSUIStnF3tCUJ29hGW/7//0lCEtrSliS0/W37eXfcHUnYxvu+vO9LEu4u25a7y21lG3fH+760JUlsq9vi9/e3tC1J8u/vL5PUtpakbQP2vm+i////c3eWpLzv69vG3bHt/P//Z9tyd/Pu7O7atn13q+1uu+5uJ1nb9rZL276NbbvturudZG07bWcStp0kc5ts+4NAv7+/v5N8fX19fXx+fl4hwbZt045ObNtcsZOybVvB/2Xbtm3btl0dq9x33n2/BRH9N5C2TTsL/T2IDEW3h3gwrjXov79FpJvL/tgTOefM6nWvJ8p/Cmrg8BXDC/OozrclbMo1fDd/hEqnqbDmW5DheehqSfDk+37OTw8X015wzKRjOwy2Y/yLRRyaHSMOiuvw3TX3djHl2TaM+rSSXW0JophRxorP5q5DU6k7w2duYv334aLaD/aaBO2DAa4ktO5ixafRorOwEW6YfFxGWaYL0bOPsPjFOHEzu5zF783dgfoSlYjpZ5n74FewuDoIdnSYOwh9NEJ+3PJxdUqYWNgFLph8WwNpChMfzePMjAixIbeSec/NPfRTW+Rg7Lsl7G+NEzuHwaZZ5k5AT5ORX9ewrTVRbO0Bp01mbXSkkNS6hXXfR4g1hbX4Hpp7Pp+qvM6w9rL03RjxYBqs1lOImnOc+U8miCd7w2Ethb9Tr+K7/SPEGyX14EjhzWLmX/NzYVq4WOmSwrKP5q6Aj8NzosWz/WFPkOleWNsaL94pbYbrSgr+fxIIsytY9FJNISAbDFvblRT6BgDzCp53pLAK0gJCfjXznqopBGR/YJ2aQkAYuxtOaCkkB4DRn1aipPB0HlX5nklq3cwqHyu/mDsHXb0S37qH5R92wkFHCttgiDei5hxjwbMJCxvglpJCRY4XwqddwH/vZ7BklbFUS6G51J6Qn/f8XJraeeEGwK4Oc7thoD0Tny3gxJwoI4UWuKJeZ1vGfFjGvtZ45xXUU2gosWPE97VsnpkkDofAFkcKB2xTSGzbzuqvI11SOGvyZRVl6RbEth5g6buxolFQjf+xIwWfTQoRM04x/8kk0U3RUjgOPa1fuIs94bgjhQ2Q7PbCH+gv3OUxKynUFKiMe7W484XbXcGVn82dha72L9z1Me/XUhiqhOXywi0e8001BSUs44VbmlXGkvfmLkOLywu3diDscEshfNp5/YVbPuaLegohP27rL9z2MS84cfLk0cOHD2+CBpn0et26szMixJND0f0d1D579oxY8Wh3FQA="/></a><a aria-label="YouTube" href="https://www.youtube.com/channel/UCtdi6hMM5p6gAchK67qYPqQ"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a><a aria-label="Facebook" href="https://www.facebook.com/profile.php?id=100078327618426"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="https://github.com/rasheedaboud"><img alt="Github" style="max-width:25px;max-height:25px" src="data:image/svg+xml,%3c?xml%20version=&#x27;1.0&#x27;%20encoding=&#x27;UTF-8&#x27;%20standalone=&#x27;no&#x27;?%3e%3csvg%20width=&#x27;25&#x27;%20height=&#x27;25&#x27;%20viewBox=&#x27;0%200%2025%2025&#x27;%20version=&#x27;1.1&#x27;%20id=&#x27;svg4&#x27;%20sodipodi:docname=&#x27;github.svg&#x27;%20inkscape:version=&#x27;1.1.1%20(3bf5ae0d25,%202021-09-20)&#x27;%20xmlns:inkscape=&#x27;http://www.inkscape.org/namespaces/inkscape&#x27;%20xmlns:sodipodi=&#x27;http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20xmlns:svg=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cdefs%20id=&#x27;defs8&#x27;%20/%3e%3csodipodi:namedview%20id=&#x27;namedview6&#x27;%20pagecolor=&#x27;%23ffffff&#x27;%20bordercolor=&#x27;%23666666&#x27;%20borderopacity=&#x27;1.0&#x27;%20inkscape:pageshadow=&#x27;2&#x27;%20inkscape:pageopacity=&#x27;0.0&#x27;%20inkscape:pagecheckerboard=&#x27;0&#x27;%20showgrid=&#x27;false&#x27;%20inkscape:zoom=&#x27;17.458333&#x27;%20inkscape:cx=&#x27;13.431981&#x27;%20inkscape:cy=&#x27;11.97136&#x27;%20inkscape:window-width=&#x27;1920&#x27;%20inkscape:window-height=&#x27;992&#x27;%20inkscape:window-x=&#x27;-8&#x27;%20inkscape:window-y=&#x27;-8&#x27;%20inkscape:window-maximized=&#x27;1&#x27;%20inkscape:current-layer=&#x27;layer1&#x27;%20/%3e%3cg%20inkscape:groupmode=&#x27;layer&#x27;%20id=&#x27;layer1&#x27;%20inkscape:label=&#x27;Layer%201&#x27;%20style=&#x27;display:inline&#x27;%3e%3crect%20style=&#x27;display:inline;fill:%23000000;stroke:%23000000;stroke-width:7.80066&#x27;%20id=&#x27;rect1616&#x27;%20width=&#x27;17.199343&#x27;%20height=&#x27;17.199343&#x27;%20x=&#x27;3.9003301&#x27;%20y=&#x27;3.9003301&#x27;%20/%3e%3cpath%20d=&#x27;m%2012.499999,0.50606967%20c%20-6.6226476,0%20-11.99392933,5.50704133%20-11.99392933,12.29936633%200,5.43427%203.43626083,10.044482%208.20284793,11.671074%200.5986976,0.113769%200.7925992,-0.267511%200.7925992,-0.591395%20V%2021.595384%20C%206.1652056,22.339495%205.4705566,20.144058%205.4705566,20.144058%204.9248328,18.722456%204.1382316,18.344251%204.1382316,18.344251%20c%20-1.088449,-0.763586%200.08296,-0.747188%200.08296,-0.747188%201.2043901,0.0861%201.8380697,1.267861%201.8380697,1.267861%201.0694583,1.879752%202.8055797,1.336531%203.4902334,1.021872%200.1069456,-0.794333%200.417788,-1.337555%200.7616143,-1.644015%20-2.6636519,-0.312609%20-5.4642343,-1.36728%20-5.4642343,-6.078962%200,-1.343706%200.468763,-2.4403988%201.2353746,-3.3013549%20-0.1239379,-0.3105589%20-0.53473,-1.5620194%200.1169404,-3.2552323%200,0%201.0074901,-0.3300329%203.2993304,1.2606851%20C%2010.455036,6.595281%2011.480517,6.458963%2012.500001,6.4538382%20c%201.019484,0.00512%202.045965,0.1414428%203.004479,0.4140787%202.28984,-1.590718%203.295332,-1.2606851%203.295332,-1.2606851%200.65267,1.6942378%200.241878,2.9456983%200.117941,3.2552323%200.76961,0.8609561%201.234375,1.9586729%201.234375,3.3013549%200,4.723982%20-2.80558,5.764303%20-5.476228,6.068713%200.429782,0.38128%200.822584,1.129491%200.822584,2.277432%20v%203.375151%20c%200,0.326959%200.191902,0.711313%200.800594,0.59037%204.76259,-1.628642%208.194852,-6.237829%208.194852,-11.670049%200,-6.792325%20-5.370281,-12.29936633%20-11.993929,-12.29936633%20z&#x27;%20id=&#x27;path2&#x27;%20style=&#x27;display:inline;fill:%23ffffff;stroke:%23000000;stroke-width:1.01214&#x27;%20/%3e%3c/g%3e%3c/svg%3e"/></a></div></nav></footer></main></div>
        <script id="vike_pageContext" type="application/json">{"pageProps":{"blog":{"odata.metadata":"https://rasheedaboudblogstorage.table.core.windows.net/$metadata#blogs/@Element","etag":"W/\"datetime'2024-01-12T23%3A27%3A44.8038289Z'\"","partitionKey":"blogs","rowKey":"part-1-building-a-react-app-using-fable-and-feliz","timestamp":"2024-01-12T23:27:44.8038289Z","author":"Rasheed Aboud","date":"2024-1-1","description":"In this blog post, I shared my experience getting started with F# and the Feliz library for building web applications. I walked through setting up a Feliz project template, using the Feliz DSL for type-safe HTML, and adding JSX support. It's been a productive and enjoyable journey so far!","readTime":"5 min","tags":"F#,react,fable,feliz,web development","thumbnail":"https://fable.io/static/img/logo_ukraine.png","title":"Part 1-Building a React App Using Fable and Feliz","markdown":"\n## TL;DR: \n\nThis post introduces how to set up and use F# with the Feliz library for web development, specifically for creating React applications. It covers installing the Feliz project template, updating packages to support JSX components, and demonstrates building type-safe HTML and client-side routing in F#. The author also shows how to integrate JSX components into an F# app, providing a way to use third-party JavaScript libraries more easily within an F# project. The post aims to highlight the productivity and type safety benefits of using F# in web development.\n\n## Background\n\nHello everyone! As a seasoned F# user, I've decided to pay it forward to the incredible community that has supported me throughout my programming journey. I was recently working helping a colleague learn F# and web development, and he suggested that it my be useful to to take our sessions and throw them into the ether and maybe help other get up and running. \n\nFor this purpose Ive made a series of repositories that walk you through getting started, we then move on to explore topics that empower you to build rich and robust user interfaces.\n\nThe end goal being to show you just how straightforward it can be to use F# in the browser allowing you to leverage its amazing capabilities to boost your productivity when building apps for the web.\n\nIn this initial installment of the series, we'll dive into setting up Feliz - my library of choiceâ€”for building apps with Fable. Plus, I'll give you a sneak peek at another way to craft React components using Fable's new JSX component feature.\n\nReally quick lets introduce the technology we will be using:\n\n### F#\n\nF# is a mature, open-source, cross-platform functional-first programming language developed by Microsoft as part of the .NET language family. It is designed to be succinct, expressive, and efficient, enabling developers to write concise and correct code quickly. Although it emphasizes functional programming paradigms, it is also a fully-fledged object-oriented language and supports imperative programming styles.\n\nKey features of F# include:\n\n- **Type Inference**: F# infers types during compilation which means you often don't need to explicitly declare them.\n- **Immutability**: By default, values in F# are immutable, which leads to safer and more predictable code.\n- **Pattern Matching**: A powerful feature that allows complex control flow based on the shape of data.\n- **Conciseness**: The syntax is terse, reducing boilerplate and making code easier to read and write.\n- **First-Class Functions**: Functions are treated as first-class citizens allowing for advanced functional programming techniques.\n- **Asynchronous Programming**: Built-in support for async workflows makes concurrent operations straightforward.\n- **Units of Measure**: Type-safe arithmetic on quantities with units.\n\n### Feliz\n\nFeliz is an innovative DSL (Domain Specific Language) for building React user interfaces using F#. It provides a set of APIs that are designed to make writing React components in F# more enjoyable and idiomatic. Feliz aims to leverage the powerful type system of F# to provide compile-time guarantees about your UI code.\n\nFeatures of Feliz include:\n\n- **Type-Safe Builders**: Create HTML elements and attributes with type safety ensuring you don't make common mistakes like misspelling an attribute name or passing an incorrect value type.\n- **Hooks API**: Use React hooks such as `useState` or `useEffect` directly within your components in a natural way.\n- **Elmish Integration**: For those who prefer the Elm architecture, Feliz can be used alongside Elmish for state management within Fable applications.\n\n### Fable\n\nFable is an F# to JavaScript compiler powered by Babel, designed to produce readable and standard JavaScript code from your F#. It allows you to write your application logic in F#, which then gets transpiled into JavaScript that can run in any modern browser or Node.js environment.\n\nKey aspects of Fable include:\n\n- **Interop with JavaScript**: Call JavaScript functions and use existing libraries directly from your F# code.\n- **Source Maps Support**: Debug your application directly in F# thanks to source maps that map the compiled JavaScript back to your original code.\n- **Modern JS Features**: Take advantage of modern JavaScript features like modules, async/await, destructuring assignments, etc., while writing in a strongly-typed functional language.\n- **Community Ecosystem**: Benefit from a rich set of community-driven tools and libraries specifically tailored for use with Fable.\n\nTogether these three technologies allow developers familiar with .NET and interested in web development to build applications using their existing knowledge while taking advantage of the robustness offered by functional programming principles. With this stack, you can create complex client-side applications that run smoothly on the web.\n\n\n## Prerequisites\n\n- .Net 8 | .Net 7\n- Node ^18\n- a package manager (npm,pnpm,yarn etc.), \n- [Visual Studio Code](https://code.visualstudio.com/) with [Ionide](http://ionide.io/)\n- [Highlight templates in F#](https://marketplace.visualstudio.com/items?itemName=alfonsogarciacaro.vscode-template-fsharp-highlight)\n\n## Getting Started\n\nFirst things first we will install the Feliz project template. A guide can be found on the [Feliz Site](https://zaid-ajaj.github.io/Feliz/#/Feliz/ProjectTemplate).\n\n```console\ndotnet new -i Feliz.Template\n```\n\nIf you already have Feliz template installed now is good time to update it\n\n```console\ndotnet new -u Feliz.Template\ndotnet new -i Feliz.Template\n```\n\nnext we can create and run the app\n\n```console\ndotnet new feliz -n AwesomeApp\ncd AwesomeApp\npnpm i\npnpm run start\n```\n\nThat it! THats how easy it is to spin up a new react app with F# and Feliz. If you open a browser and navigate to `http://localhost:5173/` you should be greeted with your shiny new awesome Feliz App. \n\nLet's quickly step through the code to get familiar with the landscape.\n\n### Main\n\nIn the ```Main.fs``` we are mounting our react app. This should look very similar to anyone familiar with react. Using Fable we get a reference to 'feliz-app' element from ```index.html``` and we call `root.render (Components.Counter())`  to mount our app.\n\n```fsharp\nmodule Main\n\nopen Feliz\nopen App\nopen Browser.Dom\n\nlet root = ReactDOM.createRoot (document.getElementById \"feliz-app\")\nroot.render (Components.Counter())\n```\n\n### Type Safe Html\n\nIn the ```Components.fs``` we have some example of how to build UI using Feliz. You don't have to use a class with static members, you can define your react components using functions and decorating them `[\u003cReactComponent>]`. However using an F# class to group components with similar features or use cases can be useful to group similar components.\n\nYou should notice right away there is no Html in our **Counter** component! We are instead using the Feliz DSL to write type safe F# code which is transpiled to Html.\n\nFor example the `Html.div []` is an F# function which takes a list (denoted by the `[]`) of props or other react components and renders them out inside a `div`.\n\nWere also using some local state to store the value of a count:\n\n```fsharp\nlet (count, setCount) = React.useState (0)\n```\n\nand button to update the state:\n\n```fsharp\nHtml.button [ \n  prop.onClick (fun _ -> setCount (count + 1)); \n  prop.text \"Increment\" ]\n```\n\nThanks to the F# compiler we get immediate feedback if we wrote our Html wrong or supplied and incorrect attribute or property. This compile time safety is a **HUGE** productivity boost for me personally.\n\nI cant tell you how many times I fat finger some Html and don't realize it until someone reported it as a bug.\n\n### Routing\n\nThe **Router** component gives you an example of how we can perform client side routing in Feliz. There are other options available however this is a very elegant solution.\n\nMy favorite part is that since this is F# we get  exhaustive pattern matching on our routes, reducing or eliminating chances that user hit a route we did not anticipate.\n\nWe also get all the F# type safety goodness in our routes and component functions!\n\n```fsharp\n[\u003cReactComponent>]\nstatic member Router() =\n  let (currentUrl, updateUrl) = React.useState (Router.currentUrl ())\n\n  React.router [ \n\trouter.onUrlChanged updateUrl \n\trouter.children [ \n\t\tmatch currentUrl with\n\t\t| [] -> Html.h1 \"Index\"\n\t\t| [ \"hello\" ] -> Components.HelloWorld()\n\t\t| [ \"counter\" ] -> Components.Counter()\n\t\t| otherwise -> Html.h1 \"Not found\" ] ]\n```\n\nBasically we take the current url and parse it to return an F# list that we can then pattern match over. In this case we are storing the current url in local state and passing the function ```updateUrl``` to the router component.\n\n\n### Update Packages \n\nNow that we have the basic app up and running lets add support for JSX components. The addition of using F# templated string to render JSX components was added in `Fable 4.0.0-theta-011` ish. Prior to this every third party component you wanted to use had to be wrapped in F# types first. Which definitely slowed down your productivity. \n\n\nFirst things first let change the project target to .Net 8. Future you may not need to complete these step once Feliz library get updated to the latest bits.\n\nNext we will bump out .Net version target from .Net 7 to .Net 8.\n\n```diff\n ./AwesomeApp.fsproj\n\u003cPropertyGroup>\n+ \u003cTargetFramework>net8.0\u003c/TargetFramework>\n- \u003cTargetFramework>net7.0\u003c/TargetFramework>\n\u003c/PropertyGroup>\n```\n\nNext lets update the **fable** and **femto** dotnet tools.\n\n```console\ndotnet tool update fable\ndotnet tool update femto\n```\n\nWe will also need to update all nuget packages. A very powerful tool for package management a tool called [Fake](https://fake.build/) which I highly recommend you look. For now lets just use the cli.\n\n```console\ncd ./src\ndotnet add package Feliz\ndotnet add package Feliz.Router\ndotnet add package Fable.Core\n```\n\nNext lets add reference to the Feliz compiler plugin. I'm going to use femto to do this. If you're not familiar with femto tool you can check it out [here](https://github.com/Zaid-Ajaj/Femto). This too is amazing, it will install any required nuget or npm packages automagcally.\n\n```console\nfemto\nfemto inspall FSharp.Core\nfemto install Feliz.CompilerPlugins\n```\n\nWe will have to modify our **package.json** to instruct fable to output .jsx files, also we will need to update our **index.html** to use the Main.jsx instead of Man.fs.js.\n\nIn our **package.json**\n\n```diff\n{\n \"private\": true,\n \"scripts\": {\n-   \"start\": \"dotnet tool restore && dotnet fable watch src --runFast vite\",\n+   \"start\": \"dotnet tool restore && dotnet fable watch src -e .jsx --runFast vite\",\n \"build\": \"dotnet tool restore && dotnet fable src --run vite build\",\n \"clean\": \"dotnet fable clean src --yes\"\n },\n\n...\n```\n\nAnd in our **index.html**;\n\n```diff\n\u003c!doctype  html>\n\n\u003chtml>\n \n \u003chead>\n  \u003ctitle>Feliz App\u003c/title>\n  \u003cmeta  http-equiv='Content-Type'  content='text/html; charset=utf-8'>\n  \u003cmeta  name=\"viewport\"  content=\"width=device-width, initial-scale=1\">\n  \u003clink  rel=\"shortcut icon\"  type=\"image/png\"  href=\"./img/favicon-32x32.png\"  sizes=\"32x32\"  />\n  \u003clink  rel=\"shortcut icon\"  type=\"image/png\"  href=\"./img/favicon-16x16.png\"  sizes=\"16x16\"  />\n \u003c/head>\n \u003cbody>\n  \u003cdiv  id=\"feliz-app\">\u003c/div>\n-     \u003cscript  type=\"module\"  src=\"./Main.fs.js\">\u003c/script>\n+     \u003cscript  type=\"module\"  src=\"./Main.jsx\">\u003c/script>\n \u003c/body>\n\n\u003c/html>\n```\n\nAt this point you'll probably want to update your .gitignore to ignore all the generated .jsx files. I also like to add the **fable_modules** to .gitignore.\n\n\n\n```git\nsrc/*.jsx\nfable_modules\n```\n\n## JSX Components\n\nNow that we have all that nonsense out of the way we can add .jsx components and use them from Feliz.\n\nHere is a very contrived example of how to do that.\n\n```fsharp\nopen  Fable.Core\nopen  Fable.React\n\n[\u003cAutoOpen>]\nmodule  JsxHelpers  =\n  let inline  toJsx  (el:  ReactElement)  :  JSX.Element  =  unbox  el\n  let inline  toReact  (el:  JSX.Element)  :  ReactElement  =  unbox  el\n \ntype  Components  =\n  [\u003cReactComponent>]\n  static member  JsxCount(props:{|count:int|})  =\n    let  (count,  setCount)  =  React.useState  (0)\n\n    JSX.jsx\n      $\"\"\"\n        \u003cdiv  style={{{{marginTop:'10px'}}}}  >From JSX: {props.count}\u003c/div>\n      \"\"\" \n\t|>  toReact\n```\n\nWe add a couple helper functions to convert back and forth from **ReactElement**  and  **JSX.Element** types.\n\nThen we can use this new JsxCounter inside the existing Counter component:\n\n```fsharp\n[\u003cReactComponent>]\nstatic member  Counter()  =\n  let  (count,  setCount)  =  React.useState  (0)\n  Html.div [   \n\tHtml.h1  count\n    Html.button  [  \n\t  prop.onClick  (fun _ ->  setCount  (count  +  1));  \n\t  prop.text  \"Increment\"  ]\n    //Add our new JSX component.\n    Components.JsxCounter({|  count  =  count  |})  ]\n```\n\nLets run the app again and navigate to /counter.\n\n```console\ncd ..\npnpm start\n```\n\nYou should get an output that matches the following. Not very pretty but it does illustrate how easy it is to use the JSX feature.\n\n![jsx counter in F#!!!](https://rasheedaboudblogstorage.blob.core.windows.net/blogs/jsxcounter.gif?sp=r&st=2024-01-05T04:17:47Z&se=2050-01-05T12:17:47Z&spr=https&sv=2022-11-02&sr=b&sig=%2FoSyOlsIIgI0Vx04av643TXF3pqzivicMPbx1cjtn%2Bk%3D)\n\nThanks to the VS code extension we added earlier we also get code completions right inside our templated string. You can also pass props from F# to the JSX component and add styles. However as you probably noticed escaping your ```{}``` can get a little crazy, however I feel this is a small price to pay.\n\n## Wrapping Up\n\nHopefully this showed you how simple it is to get started with [Fable](https://fable.io/) and [Feliz](https://zaid-ajaj.github.io/Feliz/#/). These tools are my goto anytime I'm making a new react app. I find using F# in the browser to incredibly productive, also the type safety that the F# language provides  me with an added safety net that even Typescript cant compete with.\n\nIn this blog post, we covered how to get started with F# and the Feliz library for building web applications. We walked through setting up a Feliz project template, mounting a React app, and using the Feliz DSL to create type-safe HTML. We also explored client-side routing and how to add JSX support to Feliz.\n\nUsing F# and Feliz provides many benefits, including type safety, increased productivity, and the ability to leverage the power of React in a functional programming language. With Feliz, we can write type-safe HTML using the Feliz DSL and take advantage of JSX components.\n\nOn a side note you may be asking who do we want to jump through all those hoops just to add another way to represent Html in our App (JSX)?  Especially in a manner where we loose all our type safety? Well Alfonso Garcia has an excellent series of blog post about just that!  You can check them out over [here](https://fable.io/blog/2022/2022-10-12-react-jsx.html).\n\nThe answer is we didn't  **have** too. However if you want to use any third party JavaScript packages, you will need to wrap them in F# types. Similar to adding Typescript annotations to a JavaScript library. Personally I've found the JSX method to be the most productive way to quickly wrap a component and us it from F#.\n\nIn part 2 we will look at using environment variables on the client and slowly work our way up to a decent sized production app. \nOverall, F# and Feliz are a powerful combination for building web applications, and I hope this blog post has given you a good starting point for exploring these tools further. Happy coding!  \n"}},"urlPathname":"/blog/part-1-building-a-react-app-using-fable-and-feliz","routeParams":{"pageTitle":"part-1-building-a-react-app-using-fable-and-feliz"},"documentProps":{"title":"Part 1-Building a React App Using Fable and Feliz","description":"In this blog post, I shared my experience getting started with F# and the Feliz library for building web applications. I walked through setting up a Feliz project template, using the Feliz DSL for type-safe HTML, and adding JSX support. It's been a productive and enjoyable journey so far!"},"abortReason":"!undefined","_urlRewrite":null,"_urlRedirect":"!undefined","abortStatusCode":"!undefined","_abortCall":"!undefined","_pageContextInitIsPassedToClient":"!undefined","_pageId":"/pages/blog/@pageTitle","data":"!undefined"}</script>
        <script src="/assets/entries/entry-server-routing.D_llxFIk.js" type="module" async></script>
        <link rel="modulepreload" href="/assets/entries/pages_blog_-pageTitle.qq6wV5wR.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/assets/chunks/chunk-lqWB3pjr.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/assets/chunks/chunk-IzzgPy2T.js" as="script" type="text/javascript">
      </body>
    </html>