<!DOCTYPE html>
    <html data-theme="light" lang="en">
      <head>
        <link rel="stylesheet" type="text/css" href="/assets/static/onRenderClient.Zjt8Mx4J.css">
        <meta charset="UTF-8" />
        <meta name="google-site-verification" content="tasigl22802n6H-QTcOM1o96ZEKow4vzIU36DCZwO4g" />
        <meta http-equiv='cache-control' content='no-cache'> 
        <meta http-equiv='expires' content='0'> 
        <meta http-equiv='pragma' content='no-cache'>
        <link rel="icon" href="/assets/static/favicon.D7K9RfVp.ico" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="In this post we learned how to wrap a third-party JavaScript library, Yup, in an F# application using Fable. This enables us to utilize Yup&#039;s schema builder for runtime value parsing and validation within our F# code. We also installed the Formik library, used JSX for importing Formik components, and styled them with Tailwind CSS. We then integrated a reactive form in our `Components.fs` that leverages Yup for validation and Formik for form handling, allowing us to validate user input conveniently in our F# web application." />
        <title>Part 6-Using Third Party Packages</title>
      </head>
      <body>
        <div id="react-root"><main class="min-h-screen"><header><nav class="bg-black"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-1"><div class="relative flex h-16 items-center justify-between"><div class="absolute inset-y-0 left-0 flex items-center sm:hidden"><button type="button" class="relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false"><span class="absolute -inset-0.5"></span><span class="sr-only">Open main menu</span><svg class="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div><div class="flex flex-1 items-center justify-end sm:items-stretch sm:justify-start"><div class="hidden sm:flex flex-shrink-0 items-center"><svg class="me-auto" width="50" height="50" viewBox="-20 -20 100 100"><g id="SvgjsG1201" transform="scale(1.0)" fill="#fff"><path xmlns="http://www.w3.org/2000/svg" d="M2.61,37.02a1.45852,1.45852,0,0,1-.11-.55V4A1.498,1.498,0,0,1,4,2.5H15.77a1.50728,1.50728,0,0,1,1.06.44L27.18,13.29a1.49682,1.49682,0,0,1,0,2.12L5.06,37.53A1.50653,1.50653,0,0,1,2.61,37.02Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.5,4V15.77a1.809,1.809,0,0,1-.11.57,1.62577,1.62577,0,0,1-.33.49L50.71,27.18a1.50713,1.50713,0,0,1-2.12,0L26.47,5.06a1.5155,1.5155,0,0,1,.4901-2.45,1.79313,1.79313,0,0,1,.57-.11L60,2.5A1.498,1.498,0,0,1,61.5,4Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.39,26.98a1.45841,1.45841,0,0,1,.11.55V60A1.498,1.498,0,0,1,60,61.5H48.23a1.50747,1.50747,0,0,1-1.06-.44L36.82,50.71a1.49678,1.49678,0,0,1,0-2.12L58.94,26.47A1.50658,1.50658,0,0,1,61.39,26.98Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M19.17,30.94,30.94,19.17a1.509,1.509,0,0,1,2.12,0L44.83,30.94a1.50907,1.50907,0,0,1,0,2.12L33.06,44.83a1.51876,1.51876,0,0,1-2.12,0L19.17,33.06A1.50906,1.50906,0,0,1,19.17,30.94Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M37.86,59.45a1.50661,1.50661,0,0,1-1.39,2.05L4,61.5A1.498,1.498,0,0,1,2.5,60V48.23a1.81029,1.81029,0,0,1,.11-.57,1.62669,1.62669,0,0,1,.33-.49L13.29,36.82a1.54761,1.54761,0,0,1,2.12,0L37.53,58.94A1.28931,1.28931,0,0,1,37.86,59.45Z"></path></g></svg></div><div class="sm:ml-6 sm:block"><div class="flex space-x-4"><a href="/" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-1 py-3 text-lg font-black" aria-current="page">Rasheed Aboud</a></div></div></div><div class="hidden  sm:flex absolute inset-y-0 right-0  items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"><a href="/blogs" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-black">Blog</a><a href="/about" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-black">About</a><a href="/contact" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-black">Contact</a></div></div></div></nav></header><div class="container mx-auto px-4 py-1"><div><div class="min-h-svh sm:px-10 md:px-24 lg:px-48"><article><div style="min-width:100% !important" class="prose"><div class="absolute right-1/2 bottom-1/2  transform translate-x-1/2 translate-y-1/2 "><div class="border-t-transparent border-solid animate-spin  rounded-full border-black border-8 h-32 w-32"></div></div></div></article></div></div></div><footer class="footer  p-10 bg-black text-neutral-content"><aside><svg class="me-auto" width="50" height="50" viewBox="-20 -20 100 100"><g id="SvgjsG1201" transform="scale(1.0)" fill="#fff"><path xmlns="http://www.w3.org/2000/svg" d="M2.61,37.02a1.45852,1.45852,0,0,1-.11-.55V4A1.498,1.498,0,0,1,4,2.5H15.77a1.50728,1.50728,0,0,1,1.06.44L27.18,13.29a1.49682,1.49682,0,0,1,0,2.12L5.06,37.53A1.50653,1.50653,0,0,1,2.61,37.02Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.5,4V15.77a1.809,1.809,0,0,1-.11.57,1.62577,1.62577,0,0,1-.33.49L50.71,27.18a1.50713,1.50713,0,0,1-2.12,0L26.47,5.06a1.5155,1.5155,0,0,1,.4901-2.45,1.79313,1.79313,0,0,1,.57-.11L60,2.5A1.498,1.498,0,0,1,61.5,4Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.39,26.98a1.45841,1.45841,0,0,1,.11.55V60A1.498,1.498,0,0,1,60,61.5H48.23a1.50747,1.50747,0,0,1-1.06-.44L36.82,50.71a1.49678,1.49678,0,0,1,0-2.12L58.94,26.47A1.50658,1.50658,0,0,1,61.39,26.98Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M19.17,30.94,30.94,19.17a1.509,1.509,0,0,1,2.12,0L44.83,30.94a1.50907,1.50907,0,0,1,0,2.12L33.06,44.83a1.51876,1.51876,0,0,1-2.12,0L19.17,33.06A1.50906,1.50906,0,0,1,19.17,30.94Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M37.86,59.45a1.50661,1.50661,0,0,1-1.39,2.05L4,61.5A1.498,1.498,0,0,1,2.5,60V48.23a1.81029,1.81029,0,0,1,.11-.57,1.62669,1.62669,0,0,1,.33-.49L13.29,36.82a1.54761,1.54761,0,0,1,2.12,0L37.53,58.94A1.28931,1.28931,0,0,1,37.86,59.45Z"></path></g></svg><p>Rasheed Aboud.<br/>Providing reliable tech solutions since 2017.</p></aside><nav><header class="footer-title">Social</header><div class="grid grid-flow-col gap-4"><a href="https://twitter.com/@rasheed_aboud"><img alt="twitter" style="max-width:20px;max-height:25px" src="data:image/webp;base64,UklGRowEAABXRUJQVlA4TIAEAAAvMYAMEC8GoY0kSZLnwB/YA/BOZSYNCG0kSZI8B/7AHoB3KjMhtJEkSfIc+AN7AN6pzIQc23bb5gJCUnBaetyG+9+nBtyIB/gxABIDDRUNEwMdFR0NHQ0DEzdctxUoAgeCA4HhwKAwBAIKh8GgUBgMAYcj4BAIBAaHwWEQCAyKDYFBcBAwbCgUhg2FQz8+PuJ5ntvzPLfned6e55GPj4833J/nuaE+z3NDR8MV72joaNs6nrb1bf+wbQu1bWvL3dGWbbRlW7YtWG13W5KQhLYkYRttSUIStnF3tCUJ29hGW/7//0lCEtrSliS0/W37eXfcHUnYxvu+vO9LEu4u25a7y21lG3fH+760JUlsq9vi9/e3tC1J8u/vL5PUtpakbQP2vm+i////c3eWpLzv69vG3bHt/P//Z9tyd/Pu7O7atn13q+1uu+5uJ1nb9rZL276NbbvturudZG07bWcStp0kc5ts+4NAv7+/v5N8fX19fXx+fl4hwbZt045ObNtcsZOybVvB/2Xbtm3btl0dq9x33n2/BRH9N5C2TTsL/T2IDEW3h3gwrjXov79FpJvL/tgTOefM6nWvJ8p/Cmrg8BXDC/OozrclbMo1fDd/hEqnqbDmW5DheehqSfDk+37OTw8X015wzKRjOwy2Y/yLRRyaHSMOiuvw3TX3djHl2TaM+rSSXW0JophRxorP5q5DU6k7w2duYv334aLaD/aaBO2DAa4ktO5ixafRorOwEW6YfFxGWaYL0bOPsPjFOHEzu5zF783dgfoSlYjpZ5n74FewuDoIdnSYOwh9NEJ+3PJxdUqYWNgFLph8WwNpChMfzePMjAixIbeSec/NPfRTW+Rg7Lsl7G+NEzuHwaZZ5k5AT5ORX9ewrTVRbO0Bp01mbXSkkNS6hXXfR4g1hbX4Hpp7Pp+qvM6w9rL03RjxYBqs1lOImnOc+U8miCd7w2Ethb9Tr+K7/SPEGyX14EjhzWLmX/NzYVq4WOmSwrKP5q6Aj8NzosWz/WFPkOleWNsaL94pbYbrSgr+fxIIsytY9FJNISAbDFvblRT6BgDzCp53pLAK0gJCfjXznqopBGR/YJ2aQkAYuxtOaCkkB4DRn1aipPB0HlX5nklq3cwqHyu/mDsHXb0S37qH5R92wkFHCttgiDei5hxjwbMJCxvglpJCRY4XwqddwH/vZ7BklbFUS6G51J6Qn/f8XJraeeEGwK4Oc7thoD0Tny3gxJwoI4UWuKJeZ1vGfFjGvtZ45xXUU2gosWPE97VsnpkkDofAFkcKB2xTSGzbzuqvI11SOGvyZRVl6RbEth5g6buxolFQjf+xIwWfTQoRM04x/8kk0U3RUjgOPa1fuIs94bgjhQ2Q7PbCH+gv3OUxKynUFKiMe7W484XbXcGVn82dha72L9z1Me/XUhiqhOXywi0e8001BSUs44VbmlXGkvfmLkOLywu3diDscEshfNp5/YVbPuaLegohP27rL9z2MS84cfLk0cOHD2+CBpn0et26szMixJND0f0d1D579oxY8Wh3FQA="/></a><a aria-label="YouTube" href="https://www.youtube.com/channel/UCtdi6hMM5p6gAchK67qYPqQ"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a><a aria-label="Facebook" href="https://www.facebook.com/profile.php?id=100078327618426"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="https://github.com/rasheedaboud"><img alt="Github" style="max-width:25px;max-height:25px" src="data:image/svg+xml,%3c?xml%20version=&#x27;1.0&#x27;%20encoding=&#x27;UTF-8&#x27;%20standalone=&#x27;no&#x27;?%3e%3csvg%20width=&#x27;25&#x27;%20height=&#x27;25&#x27;%20viewBox=&#x27;0%200%2025%2025&#x27;%20version=&#x27;1.1&#x27;%20id=&#x27;svg4&#x27;%20sodipodi:docname=&#x27;github.svg&#x27;%20inkscape:version=&#x27;1.1.1%20(3bf5ae0d25,%202021-09-20)&#x27;%20xmlns:inkscape=&#x27;http://www.inkscape.org/namespaces/inkscape&#x27;%20xmlns:sodipodi=&#x27;http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20xmlns:svg=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cdefs%20id=&#x27;defs8&#x27;%20/%3e%3csodipodi:namedview%20id=&#x27;namedview6&#x27;%20pagecolor=&#x27;%23ffffff&#x27;%20bordercolor=&#x27;%23666666&#x27;%20borderopacity=&#x27;1.0&#x27;%20inkscape:pageshadow=&#x27;2&#x27;%20inkscape:pageopacity=&#x27;0.0&#x27;%20inkscape:pagecheckerboard=&#x27;0&#x27;%20showgrid=&#x27;false&#x27;%20inkscape:zoom=&#x27;17.458333&#x27;%20inkscape:cx=&#x27;13.431981&#x27;%20inkscape:cy=&#x27;11.97136&#x27;%20inkscape:window-width=&#x27;1920&#x27;%20inkscape:window-height=&#x27;992&#x27;%20inkscape:window-x=&#x27;-8&#x27;%20inkscape:window-y=&#x27;-8&#x27;%20inkscape:window-maximized=&#x27;1&#x27;%20inkscape:current-layer=&#x27;layer1&#x27;%20/%3e%3cg%20inkscape:groupmode=&#x27;layer&#x27;%20id=&#x27;layer1&#x27;%20inkscape:label=&#x27;Layer%201&#x27;%20style=&#x27;display:inline&#x27;%3e%3crect%20style=&#x27;display:inline;fill:%23000000;stroke:%23000000;stroke-width:7.80066&#x27;%20id=&#x27;rect1616&#x27;%20width=&#x27;17.199343&#x27;%20height=&#x27;17.199343&#x27;%20x=&#x27;3.9003301&#x27;%20y=&#x27;3.9003301&#x27;%20/%3e%3cpath%20d=&#x27;m%2012.499999,0.50606967%20c%20-6.6226476,0%20-11.99392933,5.50704133%20-11.99392933,12.29936633%200,5.43427%203.43626083,10.044482%208.20284793,11.671074%200.5986976,0.113769%200.7925992,-0.267511%200.7925992,-0.591395%20V%2021.595384%20C%206.1652056,22.339495%205.4705566,20.144058%205.4705566,20.144058%204.9248328,18.722456%204.1382316,18.344251%204.1382316,18.344251%20c%20-1.088449,-0.763586%200.08296,-0.747188%200.08296,-0.747188%201.2043901,0.0861%201.8380697,1.267861%201.8380697,1.267861%201.0694583,1.879752%202.8055797,1.336531%203.4902334,1.021872%200.1069456,-0.794333%200.417788,-1.337555%200.7616143,-1.644015%20-2.6636519,-0.312609%20-5.4642343,-1.36728%20-5.4642343,-6.078962%200,-1.343706%200.468763,-2.4403988%201.2353746,-3.3013549%20-0.1239379,-0.3105589%20-0.53473,-1.5620194%200.1169404,-3.2552323%200,0%201.0074901,-0.3300329%203.2993304,1.2606851%20C%2010.455036,6.595281%2011.480517,6.458963%2012.500001,6.4538382%20c%201.019484,0.00512%202.045965,0.1414428%203.004479,0.4140787%202.28984,-1.590718%203.295332,-1.2606851%203.295332,-1.2606851%200.65267,1.6942378%200.241878,2.9456983%200.117941,3.2552323%200.76961,0.8609561%201.234375,1.9586729%201.234375,3.3013549%200,4.723982%20-2.80558,5.764303%20-5.476228,6.068713%200.429782,0.38128%200.822584,1.129491%200.822584,2.277432%20v%203.375151%20c%200,0.326959%200.191902,0.711313%200.800594,0.59037%204.76259,-1.628642%208.194852,-6.237829%208.194852,-11.670049%200,-6.792325%20-5.370281,-12.29936633%20-11.993929,-12.29936633%20z&#x27;%20id=&#x27;path2&#x27;%20style=&#x27;display:inline;fill:%23ffffff;stroke:%23000000;stroke-width:1.01214&#x27;%20/%3e%3c/g%3e%3c/svg%3e"/></a></div></nav></footer></main></div>
        <script id="vike_pageContext" type="application/json">{"pageProps":{"blog":{"odata.metadata":"https://rasheedaboudblogstorage.table.core.windows.net/$metadata#blogs/@Element","etag":"W/\"datetime'2024-01-15T11%3A48%3A58.4323997Z'\"","partitionKey":"blogs","rowKey":"part-6-using-third-party-packages","timestamp":"2024-01-15T11:48:58.4323997Z","author":"Rasheed Aboud","date":"2024-1-15","description":"In this post we learned how to wrap a third-party JavaScript library, Yup, in an F# application using Fable. This enables us to utilize Yup's schema builder for runtime value parsing and validation within our F# code. We also installed the Formik library, used JSX for importing Formik components, and styled them with Tailwind CSS. We then integrated a reactive form in our `Components.fs` that leverages Yup for validation and Formik for form handling, allowing us to validate user input conveniently in our F# web application.","readTime":"6 min","tags":"F#,react,fable,feliz,web development","thumbnail":"https://rasheedaboudblogstorage.blob.core.windows.net/blogs/part_6_thumbnail.png?sp=r&st=2024-01-15T11:44:31Z&se=2050-01-15T19:44:31Z&spr=https&sv=2022-11-02&sr=b&sig=sWMJjg1WIGAbZmI81fcrQIVoN4LGZOaUtS6jWA15ORk%3D","title":"Part 6-Using Third Party Packages","markdown":"\r\n## TL;DR \r\n\r\nWe learned how to wrap a third-party JavaScript library, Yup, in an F# application using Fable. This enables us to utilize Yup's schema builder for runtime value parsing and validation within our F# code. We also installed the Formik library, used JSX for importing Formik components, and styled them with Tailwind CSS. We then integrated a reactive form in our `Components.fs` that leverages Yup for validation and Formik for form handling, allowing us to validate user input conveniently in our F# web application.\r\n\r\n## Background\r\n\r\nWelcome back, intrepid developers and F# enthusiasts! In our web development odyssey with F#, Feliz, and Fable, we've been getting our hands dirty crafting interactive UIs, managing state elegantly, and integrating asynchronous data fetching to create responsive and dynamic applications. Our coding sails have caught a hearty wind, and we're cruising at remarkable speeds through the exciting seas of functional programming.\r\n\r\nHowever, every application at some point requires a unique feature or a complex component that would take extensive time and resources to build from scratch. This is where the treasure trove of third-party libraries comes to our rescue. In the vast ecosystem of open-source contributions and pre-packaged bundles of code lies the potential to extend our application's capabilities without reinventing the wheel. But how do we bring these external riches into our type-safe F# shores? Fear not, for this is the quest we embark upon today!\r\n\r\nIn this post, I will guide you through the adventurous process of wrapping a third-party library using F#. Whether it's a charting library for data analysis, a slick UI component for a touch of finesse, or a complex algorithmic toolset, we'll learn together how to harness these external powers within our F# and Fable applications. We'll examine the path to creating type-safe bindings, maintaining the functional integrity of our code, and seamlessly incorporating JavaScript interop capabilities. By the end of this journey, you'll be well-versed in the art of library wrapping, ready to elevate your web apps to unparalleled heights of functionality and flair.\r\n\r\nSo, adjust your captain's hat, set the coordinates, and prepare to discover how to amplify your web development prowess with the integration of third-party libraries in F#. Let's get wrapping!\r\n\r\n## The Plan\r\n\r\nFor this demonstration, we will wrap a validation library called [Yup](https://www.npmjs.com/package/yup#typescript-integration). For those of you not familiar,Yup is a schema builder for runtime value parsing and validation. Define a schema, transform a value to match, assert the shape of an existing value, or both. Yup schema are extremely expressive and allow modeling complex, interdependent validations, or value transformation.\r\n\r\nAlthough there are [better](https://demystifyfp.gitbook.io/fstoolkit-errorhandling/)  options available to use as F# developers. A lot of people coming from react are familiar with Yup or Zod. So I thought this might be a good intro.\r\n\r\nOnce we have Yup ready to go we will wrap a couple [formik](https://formik.org/docs/overview) components and build a simple contact form.\r\n\r\nLets go!\r\n\r\n## Prerequisites\r\n\r\nGrab the code form [Part 5](). It should contain all the required bits to get going.\r\n\r\nHere is a short list of the requirements to run the app:\r\n\r\n- .Net 8\r\n- Node ^18\r\n- npm | pnpm | yarn\r\n- [Visual Studio Code](https://code.visualstudio.com/) with [Ionide](http://ionide.io/)\r\n- [Highlight templates in F#](https://marketplace.visualstudio.com/items?itemName=alfonsogarciacaro.vscode-template-fsharp-highlight)\r\n\r\n\r\n## Yup\r\n\r\nLets dive right in and install the required packages.\r\n\r\n```console\r\npnpm i yup\r\n```\r\n\r\nNext lets create a new F# file called, you got it ``Validation.fs`` to hold our example using yup.\r\n\r\nIf you look at the shape of the [yup](https://www.npmjs.com/package/yup) object you can see how we will want to be able to call static and instance members to create a schema object.\r\n\r\nHere is what that will look lke in F#:\r\n\r\n```fsharp\r\nmodule Yup =\r\n  /// We add a static and abstract member to support the method chaining we expect\r\n  /// when using the yup object in javascript.\r\n  [\u003cImportAll(\"yup\")>]\r\n  [\u003cInterface>]\r\n  type Yup =\r\n    static member object(schema: 'a) : Yup = jsNative\r\n    static member string() : Yup = jsNative\r\n    abstract member string: unit -> Yup\r\n    static member min(?min: int, ?message: string) : Yup = jsNative\r\n    abstract member min: ?min: int * ?message: string -> Yup\r\n    static member max(?max: int, ?message: string) : Yup = jsNative\r\n    abstract member max: ?max: int * ?message: string -> Yup\r\n    static member required(?message: string) : Yup = jsNative\r\n    abstract member required: ?message: string -> Yup\r\n    static member email(?message: string) : Yup = jsNative\r\n    abstract member email: ?message: string -> Yup\r\n    abstract member validate: 'a -> JS.Promise\u003cobj>\r\n```\r\n\r\nThis more or less replicates the interface we need to use the example listed in their docs. We can now use this to build a schema object and validate objects.\r\n\r\nWe use the `[\u003cImportAll(\"yup\")>]` to replicate `import * as Yup from 'yup` in javascript. The calls to `jsNative` you see, mean take whatever you give me add pass it through to native javascript. I would strongly encourage you to read the [fable docs](https://fable.io/docs/javascript/features.html#jsnative) on JS interop as well as [this](https://medium.com/@zaid.naom/f-interop-with-javascript-in-fable-the-complete-guide-ccc5b896a59f) blog post by [Zaid](https://github.com/Zaid-Ajaj), both are invaluable learning resources.\r\n\r\nI also found it very useful to dig through some of the open source packages to see how the authors use some of Fables features to wrap and call javascript.\r\n\r\nNow that we have defined and imported the necessary javascript we can use this interface to define our schema:\r\n\r\n```fsharp\r\n  /// Define our schema\r\n  let schema =\r\n    Yup.object (\r\n      {| firstName =\r\n          Yup\r\n            .string()\r\n            .min(2, \"Too Short!\")\r\n            .max(50, \"Too Long!\")\r\n            .required (\"Value is required.\")\r\n         lastName =\r\n          Yup\r\n            .string()\r\n            .min(2, \"Too Short!\")\r\n            .max(50, \"Too Long!\")\r\n            .required (\"Value is required.\")\r\n         email = Yup.string().email(\"Invalid email.\").required (\"Value is required.\") |}\r\n    )\r\n\r\n  ///Define object to validate\r\n  let data =\r\n    {| firstName = \"Rasheed\"\r\n       lastName = \"Aboud\"\r\n       email = \"this is not an email\" |}\r\n\r\n  ///Validate and output result\r\n  let validate () =\r\n    promise {\r\n      let! result = schema.validate (data)\r\n      console.log (result)\r\n    }\r\n    |> Promise.start\r\n```\r\n\r\nIf you log the results of the `validate()` call in the console you will see that we get an error:\r\n\r\n```console\r\nUncaught (in promise) ValidationError: Invalid email.\r\n    at createError (index.esm.js:304:21)\r\n    at handleResult (index.esm.js:321:104)\r\n    at validate (index.esm.js:344:5)\r\n    at StringSchema.runTests (index.esm.js:709:7)\r\n    at index.esm.js:664:12\r\n    at nextOnce (index.esm.js:695:7)\r\n    at finishTestRun (index.esm.js:714:11)\r\n    at handleResult (index.esm.js:321:124)\r\n    at validate (index.esm.js:344:5)\r\n    at StringSchema.runTests (index.esm.js:709:7)\r\n```\r\n\r\nSuccess! We now have the capability to use this anywhere on our F# code to validate objects.\r\n\r\nAt this point I want to point out there are much more powerfull validation options available in F#, one for example is [FsToolkit.ErrorHandling](https://demystifyfp.gitbook.io/fstoolkit-errorhandling). Composition IT wrote an excellent blog post about how to use it [here](https://www.compositional-it.com/news-blog/validation-with-f-5-and-fstoolkit/).\r\n\r\nAll I was trying to illustrate is how easy it is to pull in a react library from the community and use it.\r\n\r\nThe next component I would like to bring in if a form validator called [Formik](https://formik.org/). I've used this for years in react as a declarative form validation library. This time however we will just use a JSX component for the import along with a bit of tailwind to spruce up the generic formik fields.\r\n\r\nFirst add npm package.\r\n\r\n```console\r\npnpm i formik\r\n```\r\n\r\nNext lets create a new module in the `Validation.fs` file.\r\n\r\n```fsharp\r\nmodule Formik =\r\n\r\n  type SignUpFormProps\u003c'a> = { onSubmit: 'a -> unit }\r\n\r\n  [\u003cReactComponent>]\r\n  let SignUpForm (props: SignUpFormProps\u003c'a>) =\r\n    JsInterop.import \"Formik\" \"formik\"\r\n    JsInterop.import \"Form\" \"formik\"\r\n    JsInterop.import \"Field\" \"formik\"\r\n\r\n    let initialValues =\r\n      {| firstName = \"\"\r\n         lastName = \"\"\r\n         email = \"\" |}\r\n\r\n    let schema = Yup.schema\r\n\r\n    JSX.jsx\r\n      \"\"\"\r\n       \u003cdiv className='m-10 p-5 w-1/2 rounded overflow-hidden shadow-lg'>\r\n        \u003ch1 className='m-5 uppercase font-black'>Signup\u003c/h1>\r\n        \u003cFormik\r\n          initialValues={initialValues}\r\n          validationSchema={schema}\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          {({ errors, touched }) => (\r\n            \u003cForm>\r\n\r\n              \u003clabel htmlFor='firstName' className='text-sm'>First Name\u003c/label>\r\n              \u003cField name=\"firstName\" className='block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-gray-500 sm:text-sm sm:leading-6'/>\r\n              {errors.firstName && touched.firstName ? (\r\n                \u003cdiv className='text-red-500 text-xs mb-5'>**{errors.firstName}\u003c/div>\r\n              ) : null}\r\n\r\n              \u003clabel htmlFor='lastName' className='text-sm'>Last Name\u003c/label>\r\n              \u003cField name=\"lastName\" className='block w-full mt-5 rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-gray-500 sm:text-sm sm:leading-6'/>\r\n              {errors.lastName && touched.lastName ? (\r\n                \u003cdiv className='text-red-500 text-xs mb-5'>**{errors.lastName}\u003c/div>\r\n              ) : null}\r\n\r\n              \u003clabel htmlFor='email' className='text-sm'>Email\u003c/label>\r\n              \u003cField name=\"email\" type=\"email\" className='peer block w-full mt-5 rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-gray-500 sm:text-sm sm:leading-6' />\r\n              {errors.email && touched.email ?\r\n                \u003cdiv className='peer-invalid text-red-500 text-xs'>**{errors.email}\u003c/div>\r\n                : null}\r\n\r\n              \u003cbutton type=\"submit\" className=\"btn btn-sm btn-primary mt-10\">Submit\u003c/button>\r\n            \u003c/Form>\r\n          )}\r\n        \u003c/Formik>\r\n      \u003c/div>\r\n    \"\"\"\r\n```\r\n\r\nOk that was alot of code! Let's break it down.\r\n\r\nFirst thing I did was create `type SignUpFormProps\u003c'a> = { onSubmit: 'a -> unit }`, this will allow us to pass in a function from outside the form to do something with values after validation.\r\n\r\nNext we create a `SignUpForm` component and import the required items from the `formik` library. In this case `Formik,Form` and `Field`. Using an example copied right out the Formik docs,  we paste the JSX directly into our string template. Although it does not come through well in this markdown we do get code suggestions thanks to [Highlight templates in F#](https://marketplace.visualstudio.com/items?itemName=alfonsogarciacaro.vscode-template-fsharp-highlight). You will have to do some formatting to get the JSX to look ok, but thats a very small price to pay.\r\n\r\nNext we create our `initialValues` and bring in our `schema` we defined in our Yup module, and we pass these along with our `onSubmit` handler to Formik.\r\n\r\nI also added some tailwind styles to the html, I do not consider myself a UI/UX export but I think it looks ok ish.\r\n\r\nWith all this wired up we now have a working form we can use to validate a users information.\r\n\r\nLet's head back to our good old `Components.fs` and update the `Home` component:\r\n\r\n```fsharp\r\n  [\u003cReactComponent>]\r\n  static member Home() =\r\n\r\n    let onSubmit (values) =\r\n      let data = Fable.Core.JS.JSON.stringify (values)\r\n      Browser.Dom.window.alert (data)\r\n\r\n    Html.div\r\n      [ prop.className \"container mx-auto\"\r\n        prop.children\r\n          [ Html.h1 \"Home Page\"\r\n            Daisy.button.a [ prop.href \"/#converter\"; prop.text \"Converter\" ]\r\n            Daisy.button.a [ prop.href \"/#elmish-converter\"; prop.text \"Elmish Converter\" ]\r\n            Daisy.button.a [ prop.href \"/#fable-fetch\"; prop.text \"Fable.Fetch\" ]\r\n            Daisy.button.a [ prop.href \"/#feliz-deferred\"; prop.text \"Feliz.Deferred\" ]\r\n            Formik.SignUpForm { onSubmit = onSubmit } |> toReact ] ]\r\n```\r\n\r\nRun the app with `npm start`, and voila! We have a react form using Yup and Formik!\r\n\r\n![Formik Example](https://rasheedaboudblogstorage.blob.core.windows.net/blogs/formikclip.gif?sp=r&st=2024-01-14T23:48:40Z&se=2050-01-15T07:48:40Z&spr=https&sv=2022-11-02&sr=b&sig=5uCKKxo6ottlwTJOzSJsDReLqoNzcoTEoFzARNZhcjM%3D)\r\n\r\n## Summary\r\n\r\nIn this exploration, we've ventured into the realm of integrating third-party JavaScript libraries into an F# web application powered by Feliz and Fable. We specifically focused on wrapping a JavaScript validation library called Yup and a form management library named Formik, both popular within the React ecosystem.\r\n\r\nTo begin, we installed Yup through npm and created an F# interface to define the methods and properties we required from the Yup library. We used Fable's JS interop features to map the Yup validation schema to F# types, ensuring a fluent and type-safe experience when defining validation rules.\r\n\r\nWe then installed Formik and directly imported its JSX components (Formik, Form, and Field) into our F# codebase. We crafted a `SignUpForm` component in F# that employed Formik for form handling, used Yup for validation, and added Tailwind CSS for styling. We also defined `SignUpFormProps\u003c'a>` in F# to allow the passing of an external `onSubmit` function to handle form submissions.\r\n\r\nFinally, we integrated the `SignUpForm` into our existing `Components.fs` file, providing an `onSubmit` function that utilizes browser alerts to display the result of form submissions.\r\n\r\nThrough this journey, we've demonstrated the power and flexibility of F#, Feliz, and Fable in bridging the gap between the robust F# functional programming paradigm and the rich JavaScript ecosystem, enabling developers to leverage the best of both worlds in their web applications.\r\n"}},"urlPathname":"/blog/part-6-using-third-party-packages","routeParams":{"pageTitle":"part-6-using-third-party-packages"},"documentProps":{"title":"Part 6-Using Third Party Packages","description":"In this post we learned how to wrap a third-party JavaScript library, Yup, in an F# application using Fable. This enables us to utilize Yup's schema builder for runtime value parsing and validation within our F# code. We also installed the Formik library, used JSX for importing Formik components, and styled them with Tailwind CSS. We then integrated a reactive form in our `Components.fs` that leverages Yup for validation and Formik for form handling, allowing us to validate user input conveniently in our F# web application."},"abortReason":"!undefined","_urlRewrite":null,"_urlRedirect":"!undefined","abortStatusCode":"!undefined","_abortCall":"!undefined","_pageContextInitIsPassedToClient":"!undefined","_pageId":"/pages/blog/@pageTitle","data":"!undefined"}</script>
        <script src="/assets/entries/entry-server-routing.saybZ-Sm.js" type="module" async></script>
        <link rel="modulepreload" href="/assets/entries/pages_blog_-pageTitle.enSvSaOM.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/assets/chunks/chunk-GZFZyJJ5.js" as="script" type="text/javascript">
      </body>
    </html>