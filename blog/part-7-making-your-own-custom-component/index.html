<!DOCTYPE html>
    <html data-theme="light" lang="en">
      <head>
        <link rel="stylesheet" type="text/css" href="/assets/static/onRenderClient.Zjt8Mx4J.css">
        <meta charset="UTF-8" />
        <meta name="google-site-verification" content="tasigl22802n6H-QTcOM1o96ZEKow4vzIU36DCZwO4g" />
        <meta http-equiv='cache-control' content='no-cache'> 
        <meta http-equiv='expires' content='0'> 
        <meta http-equiv='pragma' content='no-cache'>
        <link rel="icon" href="/assets/static/favicon.D7K9RfVp.ico" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="The post guides F# developers through creating a custom ComboBox using DaisyUI and TailwindCSS. Key steps include setting up prerequisites (.Net 8, Node ^18, npm/yarn, VS Code), configuring TailwindCSS and DaisyUI, and building the ComboBox component. The component uses `React.useState` for state management and event handling for keyboard and mouse interactions. Finally, the ComboBox is integrated into the main application, and sample data (a list of countries) is provided. The tutorial emphasizes combining functional programming with modern web tools for a clean, type-safe user experience. Useful resources like Html2Feliz are also recommended." />
        <title>Part 7-Making Your Own Custom Component</title>
      </head>
      <body>
        <div id="react-root"><main class="min-h-screen"><header><nav class="bg-black"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-1"><div class="relative flex h-16 items-center justify-between"><div class="absolute inset-y-0 left-0 flex items-center sm:hidden"><button type="button" class="relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false"><span class="absolute -inset-0.5"></span><span class="sr-only">Open main menu</span><svg class="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div><div class="flex flex-1 items-center justify-end sm:items-stretch sm:justify-start"><div class="hidden sm:flex flex-shrink-0 items-center"><svg class="me-auto" width="50" height="50" viewBox="-20 -20 100 100"><g id="SvgjsG1201" transform="scale(1.0)" fill="#fff"><path xmlns="http://www.w3.org/2000/svg" d="M2.61,37.02a1.45852,1.45852,0,0,1-.11-.55V4A1.498,1.498,0,0,1,4,2.5H15.77a1.50728,1.50728,0,0,1,1.06.44L27.18,13.29a1.49682,1.49682,0,0,1,0,2.12L5.06,37.53A1.50653,1.50653,0,0,1,2.61,37.02Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.5,4V15.77a1.809,1.809,0,0,1-.11.57,1.62577,1.62577,0,0,1-.33.49L50.71,27.18a1.50713,1.50713,0,0,1-2.12,0L26.47,5.06a1.5155,1.5155,0,0,1,.4901-2.45,1.79313,1.79313,0,0,1,.57-.11L60,2.5A1.498,1.498,0,0,1,61.5,4Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.39,26.98a1.45841,1.45841,0,0,1,.11.55V60A1.498,1.498,0,0,1,60,61.5H48.23a1.50747,1.50747,0,0,1-1.06-.44L36.82,50.71a1.49678,1.49678,0,0,1,0-2.12L58.94,26.47A1.50658,1.50658,0,0,1,61.39,26.98Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M19.17,30.94,30.94,19.17a1.509,1.509,0,0,1,2.12,0L44.83,30.94a1.50907,1.50907,0,0,1,0,2.12L33.06,44.83a1.51876,1.51876,0,0,1-2.12,0L19.17,33.06A1.50906,1.50906,0,0,1,19.17,30.94Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M37.86,59.45a1.50661,1.50661,0,0,1-1.39,2.05L4,61.5A1.498,1.498,0,0,1,2.5,60V48.23a1.81029,1.81029,0,0,1,.11-.57,1.62669,1.62669,0,0,1,.33-.49L13.29,36.82a1.54761,1.54761,0,0,1,2.12,0L37.53,58.94A1.28931,1.28931,0,0,1,37.86,59.45Z"></path></g></svg></div><div class="sm:ml-6 sm:block"><div class="flex space-x-4"><a href="/" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-1 py-3 text-lg font-black" aria-current="page">Rasheed Aboud</a></div></div></div><div class="hidden  sm:flex absolute inset-y-0 right-0  items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"><a href="/blogs" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-black">Blog</a><a href="/about" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-black">About</a><a href="/contact" class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-black">Contact</a></div></div></div></nav></header><div class="container mx-auto px-4 py-1"><div><div class="min-h-svh sm:px-10 md:px-24 lg:px-48"><article><div style="min-width:100% !important" class="prose"><div class="absolute right-1/2 bottom-1/2  transform translate-x-1/2 translate-y-1/2 "><div class="border-t-transparent border-solid animate-spin  rounded-full border-black border-8 h-32 w-32"></div></div></div></article></div></div></div><footer class="footer  p-10 bg-black text-neutral-content"><aside><svg class="me-auto" width="50" height="50" viewBox="-20 -20 100 100"><g id="SvgjsG1201" transform="scale(1.0)" fill="#fff"><path xmlns="http://www.w3.org/2000/svg" d="M2.61,37.02a1.45852,1.45852,0,0,1-.11-.55V4A1.498,1.498,0,0,1,4,2.5H15.77a1.50728,1.50728,0,0,1,1.06.44L27.18,13.29a1.49682,1.49682,0,0,1,0,2.12L5.06,37.53A1.50653,1.50653,0,0,1,2.61,37.02Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.5,4V15.77a1.809,1.809,0,0,1-.11.57,1.62577,1.62577,0,0,1-.33.49L50.71,27.18a1.50713,1.50713,0,0,1-2.12,0L26.47,5.06a1.5155,1.5155,0,0,1,.4901-2.45,1.79313,1.79313,0,0,1,.57-.11L60,2.5A1.498,1.498,0,0,1,61.5,4Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M61.39,26.98a1.45841,1.45841,0,0,1,.11.55V60A1.498,1.498,0,0,1,60,61.5H48.23a1.50747,1.50747,0,0,1-1.06-.44L36.82,50.71a1.49678,1.49678,0,0,1,0-2.12L58.94,26.47A1.50658,1.50658,0,0,1,61.39,26.98Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M19.17,30.94,30.94,19.17a1.509,1.509,0,0,1,2.12,0L44.83,30.94a1.50907,1.50907,0,0,1,0,2.12L33.06,44.83a1.51876,1.51876,0,0,1-2.12,0L19.17,33.06A1.50906,1.50906,0,0,1,19.17,30.94Z"></path><path xmlns="http://www.w3.org/2000/svg" d="M37.86,59.45a1.50661,1.50661,0,0,1-1.39,2.05L4,61.5A1.498,1.498,0,0,1,2.5,60V48.23a1.81029,1.81029,0,0,1,.11-.57,1.62669,1.62669,0,0,1,.33-.49L13.29,36.82a1.54761,1.54761,0,0,1,2.12,0L37.53,58.94A1.28931,1.28931,0,0,1,37.86,59.45Z"></path></g></svg><p>Rasheed Aboud.<br/>Providing reliable tech solutions since 2017.</p></aside><nav><header class="footer-title">Social</header><div class="grid grid-flow-col gap-4"><a href="https://twitter.com/@rasheed_aboud"><img alt="twitter" style="max-width:20px;max-height:25px" src="data:image/webp;base64,UklGRowEAABXRUJQVlA4TIAEAAAvMYAMEC8GoY0kSZLnwB/YA/BOZSYNCG0kSZI8B/7AHoB3KjMhtJEkSfIc+AN7AN6pzIQc23bb5gJCUnBaetyG+9+nBtyIB/gxABIDDRUNEwMdFR0NHQ0DEzdctxUoAgeCA4HhwKAwBAIKh8GgUBgMAYcj4BAIBAaHwWEQCAyKDYFBcBAwbCgUhg2FQz8+PuJ5ntvzPLfned6e55GPj4833J/nuaE+z3NDR8MV72joaNs6nrb1bf+wbQu1bWvL3dGWbbRlW7YtWG13W5KQhLYkYRttSUIStnF3tCUJ29hGW/7//0lCEtrSliS0/W37eXfcHUnYxvu+vO9LEu4u25a7y21lG3fH+760JUlsq9vi9/e3tC1J8u/vL5PUtpakbQP2vm+i////c3eWpLzv69vG3bHt/P//Z9tyd/Pu7O7atn13q+1uu+5uJ1nb9rZL276NbbvturudZG07bWcStp0kc5ts+4NAv7+/v5N8fX19fXx+fl4hwbZt045ObNtcsZOybVvB/2Xbtm3btl0dq9x33n2/BRH9N5C2TTsL/T2IDEW3h3gwrjXov79FpJvL/tgTOefM6nWvJ8p/Cmrg8BXDC/OozrclbMo1fDd/hEqnqbDmW5DheehqSfDk+37OTw8X015wzKRjOwy2Y/yLRRyaHSMOiuvw3TX3djHl2TaM+rSSXW0JophRxorP5q5DU6k7w2duYv334aLaD/aaBO2DAa4ktO5ixafRorOwEW6YfFxGWaYL0bOPsPjFOHEzu5zF783dgfoSlYjpZ5n74FewuDoIdnSYOwh9NEJ+3PJxdUqYWNgFLph8WwNpChMfzePMjAixIbeSec/NPfRTW+Rg7Lsl7G+NEzuHwaZZ5k5AT5ORX9ewrTVRbO0Bp01mbXSkkNS6hXXfR4g1hbX4Hpp7Pp+qvM6w9rL03RjxYBqs1lOImnOc+U8miCd7w2Ethb9Tr+K7/SPEGyX14EjhzWLmX/NzYVq4WOmSwrKP5q6Aj8NzosWz/WFPkOleWNsaL94pbYbrSgr+fxIIsytY9FJNISAbDFvblRT6BgDzCp53pLAK0gJCfjXznqopBGR/YJ2aQkAYuxtOaCkkB4DRn1aipPB0HlX5nklq3cwqHyu/mDsHXb0S37qH5R92wkFHCttgiDei5hxjwbMJCxvglpJCRY4XwqddwH/vZ7BklbFUS6G51J6Qn/f8XJraeeEGwK4Oc7thoD0Tny3gxJwoI4UWuKJeZ1vGfFjGvtZ45xXUU2gosWPE97VsnpkkDofAFkcKB2xTSGzbzuqvI11SOGvyZRVl6RbEth5g6buxolFQjf+xIwWfTQoRM04x/8kk0U3RUjgOPa1fuIs94bgjhQ2Q7PbCH+gv3OUxKynUFKiMe7W484XbXcGVn82dha72L9z1Me/XUhiqhOXywi0e8001BSUs44VbmlXGkvfmLkOLywu3diDscEshfNp5/YVbPuaLegohP27rL9z2MS84cfLk0cOHD2+CBpn0et26szMixJND0f0d1D579oxY8Wh3FQA="/></a><a aria-label="YouTube" href="https://www.youtube.com/channel/UCtdi6hMM5p6gAchK67qYPqQ"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a><a aria-label="Facebook" href="https://www.facebook.com/profile.php?id=100078327618426"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="https://github.com/rasheedaboud"><img alt="Github" style="max-width:25px;max-height:25px" src="data:image/svg+xml,%3c?xml%20version=&#x27;1.0&#x27;%20encoding=&#x27;UTF-8&#x27;%20standalone=&#x27;no&#x27;?%3e%3csvg%20width=&#x27;25&#x27;%20height=&#x27;25&#x27;%20viewBox=&#x27;0%200%2025%2025&#x27;%20version=&#x27;1.1&#x27;%20id=&#x27;svg4&#x27;%20sodipodi:docname=&#x27;github.svg&#x27;%20inkscape:version=&#x27;1.1.1%20(3bf5ae0d25,%202021-09-20)&#x27;%20xmlns:inkscape=&#x27;http://www.inkscape.org/namespaces/inkscape&#x27;%20xmlns:sodipodi=&#x27;http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20xmlns:svg=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3cdefs%20id=&#x27;defs8&#x27;%20/%3e%3csodipodi:namedview%20id=&#x27;namedview6&#x27;%20pagecolor=&#x27;%23ffffff&#x27;%20bordercolor=&#x27;%23666666&#x27;%20borderopacity=&#x27;1.0&#x27;%20inkscape:pageshadow=&#x27;2&#x27;%20inkscape:pageopacity=&#x27;0.0&#x27;%20inkscape:pagecheckerboard=&#x27;0&#x27;%20showgrid=&#x27;false&#x27;%20inkscape:zoom=&#x27;17.458333&#x27;%20inkscape:cx=&#x27;13.431981&#x27;%20inkscape:cy=&#x27;11.97136&#x27;%20inkscape:window-width=&#x27;1920&#x27;%20inkscape:window-height=&#x27;992&#x27;%20inkscape:window-x=&#x27;-8&#x27;%20inkscape:window-y=&#x27;-8&#x27;%20inkscape:window-maximized=&#x27;1&#x27;%20inkscape:current-layer=&#x27;layer1&#x27;%20/%3e%3cg%20inkscape:groupmode=&#x27;layer&#x27;%20id=&#x27;layer1&#x27;%20inkscape:label=&#x27;Layer%201&#x27;%20style=&#x27;display:inline&#x27;%3e%3crect%20style=&#x27;display:inline;fill:%23000000;stroke:%23000000;stroke-width:7.80066&#x27;%20id=&#x27;rect1616&#x27;%20width=&#x27;17.199343&#x27;%20height=&#x27;17.199343&#x27;%20x=&#x27;3.9003301&#x27;%20y=&#x27;3.9003301&#x27;%20/%3e%3cpath%20d=&#x27;m%2012.499999,0.50606967%20c%20-6.6226476,0%20-11.99392933,5.50704133%20-11.99392933,12.29936633%200,5.43427%203.43626083,10.044482%208.20284793,11.671074%200.5986976,0.113769%200.7925992,-0.267511%200.7925992,-0.591395%20V%2021.595384%20C%206.1652056,22.339495%205.4705566,20.144058%205.4705566,20.144058%204.9248328,18.722456%204.1382316,18.344251%204.1382316,18.344251%20c%20-1.088449,-0.763586%200.08296,-0.747188%200.08296,-0.747188%201.2043901,0.0861%201.8380697,1.267861%201.8380697,1.267861%201.0694583,1.879752%202.8055797,1.336531%203.4902334,1.021872%200.1069456,-0.794333%200.417788,-1.337555%200.7616143,-1.644015%20-2.6636519,-0.312609%20-5.4642343,-1.36728%20-5.4642343,-6.078962%200,-1.343706%200.468763,-2.4403988%201.2353746,-3.3013549%20-0.1239379,-0.3105589%20-0.53473,-1.5620194%200.1169404,-3.2552323%200,0%201.0074901,-0.3300329%203.2993304,1.2606851%20C%2010.455036,6.595281%2011.480517,6.458963%2012.500001,6.4538382%20c%201.019484,0.00512%202.045965,0.1414428%203.004479,0.4140787%202.28984,-1.590718%203.295332,-1.2606851%203.295332,-1.2606851%200.65267,1.6942378%200.241878,2.9456983%200.117941,3.2552323%200.76961,0.8609561%201.234375,1.9586729%201.234375,3.3013549%200,4.723982%20-2.80558,5.764303%20-5.476228,6.068713%200.429782,0.38128%200.822584,1.129491%200.822584,2.277432%20v%203.375151%20c%200,0.326959%200.191902,0.711313%200.800594,0.59037%204.76259,-1.628642%208.194852,-6.237829%208.194852,-11.670049%200,-6.792325%20-5.370281,-12.29936633%20-11.993929,-12.29936633%20z&#x27;%20id=&#x27;path2&#x27;%20style=&#x27;display:inline;fill:%23ffffff;stroke:%23000000;stroke-width:1.01214&#x27;%20/%3e%3c/g%3e%3c/svg%3e"/></a></div></nav></footer></main></div>
        <script id="vike_pageContext" type="application/json">{"pageProps":{"blog":{"odata.metadata":"https://rasheedaboudblogstorage.table.core.windows.net/$metadata#blogs/@Element","etag":"W/\"datetime'2024-06-18T00%3A14%3A22.9174212Z'\"","partitionKey":"blogs","rowKey":"part-7-making-your-own-custom-component","timestamp":"2024-06-18T00:14:22.9174212Z","author":"Rasheed Aboud","date":"2024-6-17","description":"The post guides F# developers through creating a custom ComboBox using DaisyUI and TailwindCSS. Key steps include setting up prerequisites (.Net 8, Node ^18, npm/yarn, VS Code), configuring TailwindCSS and DaisyUI, and building the ComboBox component. The component uses `React.useState` for state management and event handling for keyboard and mouse interactions. Finally, the ComboBox is integrated into the main application, and sample data (a list of countries) is provided. The tutorial emphasizes combining functional programming with modern web tools for a clean, type-safe user experience. Useful resources like Html2Feliz are also recommended.","readTime":"6 min","tags":"F#,react,fable,feliz,web development","thumbnail":"https://rasheedaboudblogstorage.blob.core.windows.net/blogs/part_seven_thumbnail.webp?sp=r&st=2024-06-18T00:13:51Z&se=2099-06-18T08:13:51Z&spr=https&sv=2022-11-02&sr=b&sig=1rrrrMSBdhXZxz%2FBXIbtsEvt4%2BhuCg0Pu%2Fp12srfqGI%3D","title":"Part 7-Making Your Own Custom Component","markdown":"# Crafting a Custom ComboBox in F# with DaisyUI and TailwindCSS\r\n\r\nWelcome back, intrepid developers and F# enthusiasts! After taking some time off to focus on a new job. I thought it was time to continue our journey. \r\n\r\nToday, we’ll venture into the exciting realm of user interface components—specifically, crafting a custom ComboBox. Leveraging the elegance of DaisyUI and the flexibility of TailwindCSS, we’ll create a ComboBox that is both stylish and functional.\r\n\r\nA ComboBox (or dropdown) is a fundamental UI element that allows users to select an item from a list of options or input their choice directly. In this tutorial, we’ll guide you through setting up a ComboBox component step-by-step using F# within our static type-safe environment.\r\n\r\nSo, polish your keyboards and get ready to dive in!\r\n\r\n## Prerequisites\r\n\r\nEnsure you have the following setup ready before we start:\r\n\r\n- .Net 8\r\n- Node ^18\r\n- npm | pnpm | yarn\r\n- [Visual Studio Code](https://code.visualstudio.com/) with [Ionide](http://ionide.io/)\r\n- [Highlight templates in F#](https://marketplace.visualstudio.com/items?itemName=alfonsogarciacaro.vscode-template-fsharp-highlight)\r\n\r\n## Setting Up\r\n\r\nBegin by creating a new F# file called `ComboBox.fs` where we'll be developing our ComboBox component. Make sure you have TailwindCSS and DaisyUI installed and correctly configured in your project, as these libraries will provide us with the necessary styling and components.\r\n\r\nIf you haven't already, install the required packages:\r\n\r\n```bash\r\npnpm i tailwindcss daisyui\r\n```\r\n\r\nConfigure `postcss.config.js` to include TailwindCSS and DaisyUI:\r\n\r\n```js\r\nmodule.exports = {\r\n  plugins: {\r\n    tailwindcss: {},\r\n    autoprefixer: {},\r\n    daisyui: {},\r\n  },\r\n}\r\n```\r\n\r\nAnd set up your `tailwind.config.js`:\r\n\r\n```js\r\nmodule.exports = {\r\n  content: [\"./src/**/*.{fs,fsx}\", \"./public/index.html\"],\r\n  theme: {\r\n    extend: {},\r\n  },\r\n  plugins: [require(\"daisyui\")],\r\n}\r\n```\r\n\r\nSet up Tailwind directives in your CSS file (`styles.css`):\r\n\r\n```css\r\n@tailwind base;\r\n@tailwind components;\r\n@tailwind utilities;\r\n```\r\n\r\n## Creating the ComboBox Component\r\n\r\nLet's outline our new `ComboBox.fs`:\r\n\r\n```fsharp\r\nmodule ComboBox\r\nopen Feliz\r\n\r\ntype ComboBoxProps\u003c'a> =\r\n  { data: 'a []\r\n    label: string\r\n    palceholder: string\r\n    selected: string -> unit }\r\n\r\n[\u003cReactComponent>]\r\nlet ComboBox (props: ComboBoxProps\u003c'a>) =\r\n  let input, setInput = React.useState (\"\")\r\n  let selectedValue, setSelectedValue = React.useState (\"\")\r\n  let initial, setInitial = React.useState (props.data)\r\n  let data, setData = React.useState (props.data)\r\n  let hasFocus, setHasfocus = React.useState (false)\r\n  let activeSuggestionIndex, setActiveSuggestionIndex = React.useState (0)\r\n\r\n  React.useEffect ((fun () -> props.selected (selectedValue)), [| box selectedValue |])\r\n\r\n  React.useEffect (\r\n    (fun () ->\r\n      if System.String.IsNullOrEmpty(input) then\r\n        setData (initial)\r\n      else\r\n        let data =\r\n          initial\r\n          |> Array.filter (fun (x: string) -> x.ToLower().Contains(input.ToLower()))\r\n\r\n        if data.Length \u003c= 0 then\r\n          setData (initial)\r\n          setInput (\"\")\r\n        else\r\n          setData (data)),\r\n    [| box input |]\r\n  )\r\n\r\n  let handleKeyDown (evt: Browser.Types.KeyboardEvent) =\r\n    setHasfocus (true)\r\n\r\n    if evt.key = \"ArrowUp\" then\r\n      if activeSuggestionIndex = 0 then\r\n        ()\r\n      else\r\n        setActiveSuggestionIndex (activeSuggestionIndex - 1)\r\n\r\n    elif evt.key = \"ArrowDown\" then\r\n\r\n      if activeSuggestionIndex = data.Length - 1 then\r\n        ()\r\n      else\r\n        setActiveSuggestionIndex (activeSuggestionIndex + 1)\r\n    elif evt.key = \"Enter\" then\r\n      setInput (data[activeSuggestionIndex])\r\n      setSelectedValue (data[activeSuggestionIndex])\r\n      setActiveSuggestionIndex (0)\r\n      setHasfocus (false)\r\n\r\n  Html.div [\r\n    prop.className \"form-control\"\r\n    prop.children [\r\n      Html.div [\r\n        prop.className \"dropdown\"\r\n        prop.children [\r\n          Html.div [\r\n            prop.className \"label\"\r\n            prop.children [\r\n              Html.span [\r\n                prop.className \"label-text font-bold\"\r\n                prop.text props.label\r\n              ]\r\n            ]\r\n          ]\r\n          Html.input [\r\n            prop.classes [\r\n              \"input input-sm\"\r\n              \"input-bordered\"\r\n              \"w-full\"\r\n            ]\r\n            prop.type' \"search\"\r\n            prop.placeholder props.palceholder\r\n            prop.value input\r\n            prop.onChange (fun x -> setInput (x))\r\n            prop.onFocus (fun _ -> setHasfocus (true))\r\n            prop.onKeyDown handleKeyDown\r\n          ]\r\n          if hasFocus then\r\n            Html.ul [\r\n              prop.classes [\r\n                \"dropdown-content\"\r\n                \"z-[1]\"\r\n                \"menu\"\r\n                \"p-2\"\r\n                \"shadow\"\r\n                \"bg-base-100\"\r\n                \"rounded-box\"\r\n                \"w-full\"\r\n                \"max-h-80\"\r\n                \"flex-nowrap\"\r\n                \"overflow-auto\"\r\n              ]\r\n              prop.tabIndex 0\r\n              prop.children [\r\n\r\n                for i = 0 to data.Length do\r\n                  Html.li [\r\n                    prop.id data[i]\r\n                    prop.key i\r\n                    prop.children [\r\n                      Html.a [\r\n                        prop.className (\r\n                          if activeSuggestionIndex = i then\r\n                            \"active\"\r\n                          else\r\n                            \"\"\r\n                        )\r\n                        prop.onClick (fun _ ->\r\n                          setInput (data[i])\r\n                          setSelectedValue (data[i])\r\n                          setHasfocus (false))\r\n                        prop.text data[i]\r\n                      ]\r\n                    ]\r\n                  ]\r\n              ]\r\n            ]\r\n        ]\r\n      ]\r\n    ]\r\n  ]\r\n```\r\n\r\n### Explanation\r\n\r\n1. **State Management**: We use `React.useState` to manage the selected option, initial data, filtered data etc.\r\n2. **Event Handling**: we use the `onClick` of the individual `\u003cli>` elements to update the selected option and current input values if user uses thier mouse or touch to select a value. Whereas we use the `onChange` and `onFocus` and `onKeyDown` events to filter and update the dropdown when user is using a keyboard. Together they allow a user to easily filter and select a value. \r\n\r\nBy setting `prop.value input` we tell the browser to show a clear icon, that allows the user to quickly clear value in the text input.\r\n\r\n![alt text](https://rasheedaboudblogstorage.blob.core.windows.net/blogs/dropdown_clear.png?sp=r&st=2024-06-17T23:49:50Z&se=2099-06-18T07:49:50Z&spr=https&sv=2022-11-02&sr=b&sig=ThSMizywiZTkS5jHZSNzQXiGIu%2BGJjiQfDqEo1uoeQc%3D)\r\n\r\n3. **DaisyUI Dropdown Styling**:  As we loop through each item in the dropdown list we compare the index to the selected value index and conditionally apply `active` class to highlight the selected `\u003cli>` item.\r\n4. **Dynamic Option Rendering**: We loop through the provided options and render each as a clickable item within the dropdown.\r\n\r\n### Integrating ComboBox in Your App\r\n\r\nNow that we've created our `ComboBox` component, let’s integrate it into our main application. We'll add a new page that utilizes this ComboBox.\r\n\r\nUpdate your `Components.fs` with a new `ComboBox` component:\r\n\r\n```fsharp\r\nmodule Components\r\n\r\nopen ComboBox\r\n\r\n[\u003cReactComponent>]\r\n  static member Home() =\r\n    Html.div [\r\n      prop.children [\r\n        Html.h1 [\r\n          prop.className \"uppercase font-bold\"\r\n          prop.text \"Home Page\"\r\n        ]\r\n        Html.div [\r\n          prop.className \"grid grid-cols-1 md:grid-cols-4 gap-5\"\r\n          prop.children [\r\n            Daisy.button.a [\r\n              prop.href \"/#converter\"\r\n              prop.text \"Converter\"\r\n            ]\r\n            Daisy.button.a [\r\n              prop.href \"/#elmish-converter\"\r\n              prop.text \"Elmish Converter\"\r\n            ]\r\n            Daisy.button.a [\r\n              prop.href \"/#fable-fetch\"\r\n              prop.text \"Fable.Fetch\"\r\n            ]\r\n            Daisy.button.a [\r\n              prop.href \"/#feliz-deferred\"\r\n              prop.text \"Feliz.Deferred\"\r\n            ]\r\n            ComboBox(\r\n              { label = \"Countries\";\r\n                // we can bond to this function to whatever we need to with the output\r\n                selected = fun args -> console.log (args);\r\n                palceholder = \"Select a Country\";\r\n                //We'll add a list of countries to use with our example\r\n                data =\r\n                  [| \"CANADA\"\r\n                     \"Cambodia\"\r\n                     \"Cameroon\"\r\n                     \"Canada\"\r\n                     \"Central African Republic\"\r\n                     \"Chad\"\r\n                     \"Chile\"\r\n                     \"China\"\r\n                     \"Colombia\"\r\n                     \"Comoros\"\r\n                     \"Congo, Democratic Republic of the\"\r\n                     \"Congo, Republic of the\"\r\n                     \"Costa Rica\"\r\n                     \"Côte d’Ivoire\"\r\n                     \"Croatia\"\r\n                     \"Cuba\"\r\n                     \"Cyprus\"\r\n                     \"Czech Republic\" |]\r\n              }\r\n            )\r\n          ]\r\n        ]\r\n      ]\r\n    ]\r\n```\r\n\r\n### Run the App\r\n\r\nWith all the pieces in place, run your application and navigate to the ComboBox page. You should see a beautifully rendered ComboBox using DaisyUI and TailwindCSS styles, allowing users to select from the provided options or input their value.\r\n\r\n```bash\r\npnpm start\r\n```\r\n\r\nOpen your browser and navigate to the ComboBox page. You should see the ComboBox working seamlessly, allowing you to select from the list and displaying the selected option below.\r\n\r\n![combo box in action](https://rasheedaboudblogstorage.blob.core.windows.net/blogs/combobox.gif?sp=r&st=2024-06-17T23:58:26Z&se=2099-06-18T07:58:26Z&spr=https&sv=2022-11-02&sr=b&sig=MuLkUGEFCUQzlXqbZB6IPohhE9W8%2BgStogzer19iqx8%3D)\r\n\r\n## Summary\r\n\r\nIn this post, we delved into the world of custom UI components by crafting a ComboBox using F#, DaisyUI, and TailwindCSS. We defined our ComboBox component with state management and event handling, styled it using DaisyUI components, and seamlessly integrated it into our existing application.\r\n\r\nI also thought I would pass along a few tools I find very useful when making components in feliz.\r\n\r\n- [Typescript to Fable](https://fable.io/ts2fable/0) this is an amazing tool that can take typescript definitions and generate valid F#. There is a new tool that looks amazing [glutinum](https://github.com/glutinum-org/Glutinum), I have not had the opportunity to play with it yet but I hope to very soon.\r\n\r\n- [Html2Feliz](https://thisfunctionaltom.github.io/Html2Feliz/) is another very useful tool that can convert any valid html into Feliz syntax. This make creating new components effortless.\r\n\r\n\r\nThis journey through creating a ComboBox showcases the power of combining functional programming with modern web development tools, providing a clean, type-safe, and stylish user experience. Stay tuned for more explorations and enhancements as we continue our adventure in building robust web applications with F# and its vibrant ecosystem!\r\n\r\nUntil next time, happy coding!"}},"urlPathname":"/blog/part-7-making-your-own-custom-component","routeParams":{"pageTitle":"part-7-making-your-own-custom-component"},"documentProps":{"title":"Part 7-Making Your Own Custom Component","description":"The post guides F# developers through creating a custom ComboBox using DaisyUI and TailwindCSS. Key steps include setting up prerequisites (.Net 8, Node ^18, npm/yarn, VS Code), configuring TailwindCSS and DaisyUI, and building the ComboBox component. The component uses `React.useState` for state management and event handling for keyboard and mouse interactions. Finally, the ComboBox is integrated into the main application, and sample data (a list of countries) is provided. The tutorial emphasizes combining functional programming with modern web tools for a clean, type-safe user experience. Useful resources like Html2Feliz are also recommended."},"abortReason":"!undefined","_urlRewrite":null,"_urlRedirect":"!undefined","abortStatusCode":"!undefined","_abortCall":"!undefined","_pageContextInitIsPassedToClient":"!undefined","_pageId":"/pages/blog/@pageTitle","data":"!undefined"}</script>
        <script src="/assets/entries/entry-server-routing.saybZ-Sm.js" type="module" async></script>
        <link rel="modulepreload" href="/assets/entries/pages_blog_-pageTitle.enSvSaOM.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/assets/chunks/chunk-GZFZyJJ5.js" as="script" type="text/javascript">
      </body>
    </html>